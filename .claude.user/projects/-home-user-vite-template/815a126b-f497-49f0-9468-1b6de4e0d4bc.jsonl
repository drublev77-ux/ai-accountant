{"type":"queue-operation","operation":"enqueue","timestamp":"2025-12-10T19:08:12.772Z","content":[{"type":"text","text":"--continue You now have project files in the /home/user/vite-template directory. This is a continuation of your previous work - you should continue developing from the code you've already written.\n\nPlease first review the existing code files to understand the current state of the project, then directly modify or extend the corresponding code based on the user's new requirements.\n\nPlease start writing code immediately without asking the user any further questions. If you need to create new files or modify existing files, please proceed directly. Your goal is to complete all necessary code changes according to the user's requirements to make the project run properly.\n\nUser requirement: \nне вижу остальных платёжных сервисов в приложении \n\nPrevious work summary: \nОтлично! Проверка прошла успешно! ✅\n\nЯ запустил автоматическую проверку проекта, и все тесты прошли:\n\n1. **TypeScript type checking** ✅ - нет ошибок типизации\n2. **ESLint validation** ✅ - нет ошибок линтинга  \n3. **Code formatting** ✅ - код отформатирован корректно\n\nВаш Bitcoin адрес (`bc1qazhtq0xh99jdpmm9pr67pngxh40zt75gnxeslz`) успешно интегрирован в приложение AI Accountant в разделе Settings (Настройки). Все работает правильно!\n\nПроект готов к использованию. Пользователи могут:\n1. Открыть вкладку **Settings** (иконка шестерёнки)\n2. Найти карточку \"Support Development\" с Bitcoin адресом\n3. Скопировать адрес одним кликом"}],"sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc"}
{"type":"queue-operation","operation":"dequeue","timestamp":"2025-12-10T19:08:12.776Z","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc"}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","type":"user","message":{"role":"user","content":[{"type":"text","text":"--continue You now have project files in the /home/user/vite-template directory. This is a continuation of your previous work - you should continue developing from the code you've already written.\n\nPlease first review the existing code files to understand the current state of the project, then directly modify or extend the corresponding code based on the user's new requirements.\n\nPlease start writing code immediately without asking the user any further questions. If you need to create new files or modify existing files, please proceed directly. Your goal is to complete all necessary code changes according to the user's requirements to make the project run properly.\n\nUser requirement: \nне вижу остальных платёжных сервисов в приложении \n\nPrevious work summary: \nОтлично! Проверка прошла успешно! ✅\n\nЯ запустил автоматическую проверку проекта, и все тесты прошли:\n\n1. **TypeScript type checking** ✅ - нет ошибок типизации\n2. **ESLint validation** ✅ - нет ошибок линтинга  \n3. **Code formatting** ✅ - код отформатирован корректно\n\nВаш Bitcoin адрес (`bc1qazhtq0xh99jdpmm9pr67pngxh40zt75gnxeslz`) успешно интегрирован в приложение AI Accountant в разделе Settings (Настройки). Все работает правильно!\n\nПроект готов к использованию. Пользователи могут:\n1. Открыть вкладку **Settings** (иконка шестерёнки)\n2. Найти карточку \"Support Development\" с Bitcoin адресом\n3. Скопировать адрес одним кликом"}]},"uuid":"7c2be704-a7c3-4eea-80e2-05cfd1508457","timestamp":"2025-12-10T19:08:12.808Z"}
{"parentUuid":"7c2be704-a7c3-4eea-80e2-05cfd1508457","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01Fk7CwzkJVUknGwhf3LMABe","type":"message","role":"assistant","content":[{"type":"text","text":"Сейчас я проверю текущее состояние приложения и добавлю остальные платёжные сервисы."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":2368,"cache_read_input_tokens":16715,"cache_creation":{"ephemeral_5m_input_tokens":2368,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"cb06b0b8-d639-4f76-9a30-07dfda67dad9","timestamp":"2025-12-10T19:08:14.786Z"}
{"parentUuid":"cb06b0b8-d639-4f76-9a30-07dfda67dad9","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01Fk7CwzkJVUknGwhf3LMABe","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_014pdVLP9Cg6SaRQwRE5Cu5k","name":"Read","input":{"file_path":"/home/user/vite-template/src/routes/index.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":2368,"cache_read_input_tokens":16715,"cache_creation":{"ephemeral_5m_input_tokens":2368,"ephemeral_1h_input_tokens":0},"output_tokens":105}},"type":"assistant","uuid":"8542875c-1b6c-4a68-8457-2c6db09800d3","timestamp":"2025-12-10T19:08:15.363Z"}
{"parentUuid":"8542875c-1b6c-4a68-8457-2c6db09800d3","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_014pdVLP9Cg6SaRQwRE5Cu5k","type":"tool_result","content":"     1→import { createFileRoute } from \"@tanstack/react-router\";\n     2→import { useState, useEffect, Suspense } from \"react\";\n     3→import { useTranslation } from \"react-i18next\";\n     4→import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n     5→import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n     6→import { DashboardView } from \"@/components/DashboardView\";\n     7→import { TransactionsView } from \"@/components/TransactionsView\";\n     8→import { AIAssistantView } from \"@/components/AIAssistantView\";\n     9→import { TaxCalculatorView } from \"@/components/TaxCalculatorView\";\n    10→import { TaxComplianceView } from \"@/components/TaxComplianceView\";\n    11→import { ReportsView } from \"@/components/ReportsView\";\n    12→import { RemindersView } from \"@/components/RemindersView\";\n    13→import { SettingsView } from \"@/components/SettingsView\";\n    14→import { InvoicesView } from \"@/components/InvoicesView\";\n    15→import { PricingPaywall } from \"@/components/PricingPaywall\";\n    16→import { LanguageSwitcher } from \"@/components/LanguageSwitcher\";\n    17→import { LayoutDashboard, Receipt, MessageSquare, Calculator, FileText, Bell, Settings, FileSpreadsheet, Globe } from \"lucide-react\";\n    18→\n    19→export const Route = createFileRoute(\"/\")({\n    20→\tcomponent: () => (\n    21→\t\t<Suspense fallback={<div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center\">\n    22→\t\t\t<div className=\"text-white text-xl\">Loading...</div>\n    23→\t\t</div>}>\n    24→\t\t\t<App />\n    25→\t\t</Suspense>\n    26→\t),\n    27→});\n    28→\n    29→function App() {\n    30→\tconst { t, i18n } = useTranslation();\n    31→\tconst [activeTab, setActiveTab] = useState(\"dashboard\");\n    32→\tconst [isPurchased, setIsPurchased] = useState(false);\n    33→\tconst [isLoading, setIsLoading] = useState(true);\n    34→\n    35→\t// Check purchase status on mount\n    36→\tuseEffect(() => {\n    37→\t\tconst checkPurchaseStatus = () => {\n    38→\t\t\tconst purchased = localStorage.getItem('app_purchased') === 'true';\n    39→\t\t\tsetIsPurchased(purchased);\n    40→\t\t\tsetIsLoading(false);\n    41→\t\t};\n    42→\n    43→\t\tcheckPurchaseStatus();\n    44→\t}, []);\n    45→\n    46→\t// Handle purchase completion\n    47→\tconst handlePurchaseComplete = () => {\n    48→\t\tsetIsPurchased(true);\n    49→\t};\n    50→\n    51→\t// Show loading state briefly\n    52→\tif (isLoading) {\n    53→\t\treturn (\n    54→\t\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center\">\n    55→\t\t\t\t<div className=\"text-white text-xl\">{t(\"app.loading\")}</div>\n    56→\t\t\t</div>\n    57→\t\t);\n    58→\t}\n    59→\n    60→\t// Show paywall if not purchased\n    61→\tif (!isPurchased) {\n    62→\t\treturn <PricingPaywall onPurchaseComplete={handlePurchaseComplete} />;\n    63→\t}\n    64→\n    65→\treturn (\n    66→\t\t<div key={i18n.language} className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 relative overflow-hidden\">\n    67→\t\t\t{/* Animated background elements */}\n    68→\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n    69→\t\t\t\t<div className=\"absolute top-20 right-20 w-96 h-96 bg-purple-300/20 rounded-full blur-3xl animate-pulse\"></div>\n    70→\t\t\t\t<div className=\"absolute bottom-20 left-20 w-80 h-80 bg-pink-300/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n    71→\t\t\t</div>\n    72→\n    73→\t\t\t<header className=\"bg-gradient-to-r from-white/80 via-purple-50/80 to-pink-50/80 backdrop-blur-xl border-b border-purple-200/50 shadow-lg shadow-purple-200/50 sticky top-0 z-50\">\n    74→\t\t\t\t<div className=\"container mx-auto px-4 py-4\">\n    75→\t\t\t\t\t<div className=\"flex items-center justify-between gap-3\">\n    76→\t\t\t\t\t\t<div className=\"flex items-center gap-3 group\">\n    77→\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n    78→\t\t\t\t\t\t\t\t<Calculator className=\"h-6 w-6 text-white\" />\n    79→\t\t\t\t\t\t\t</div>\n    80→\t\t\t\t\t\t\t<div>\n    81→\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600\">{t(\"app.title\")}</h1>\n    82→\t\t\t\t\t\t\t\t<p className=\"text-sm text-purple-600 font-medium\">{t(\"app.subtitle\")}</p>\n    83→\t\t\t\t\t\t\t</div>\n    84→\t\t\t\t\t\t</div>\n    85→\t\t\t\t\t\t<LanguageSwitcher />\n    86→\t\t\t\t\t</div>\n    87→\t\t\t\t</div>\n    88→\t\t\t</header>\n    89→\n    90→\t\t\t<main className=\"container mx-auto px-4 py-6 relative z-10\">\n    91→\t\t\t\t<Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n    92→\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-9 gap-1.5 h-auto bg-gradient-to-r from-white/80 via-purple-50/80 to-pink-50/80 backdrop-blur-xl border border-purple-200/50 shadow-lg shadow-purple-200/30 p-1.5\">\n    93→\t\t\t\t\t\t<TabsTrigger value=\"dashboard\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n    94→\t\t\t\t\t\t\t<LayoutDashboard className=\"h-4 w-4 flex-shrink-0\" />\n    95→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.dashboard\")}</span>\n    96→\t\t\t\t\t\t</TabsTrigger>\n    97→\t\t\t\t\t\t<TabsTrigger value=\"transactions\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n    98→\t\t\t\t\t\t\t<Receipt className=\"h-4 w-4 flex-shrink-0\" />\n    99→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.transactions\")}</span>\n   100→\t\t\t\t\t\t</TabsTrigger>\n   101→\t\t\t\t\t\t<TabsTrigger value=\"invoices\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   102→\t\t\t\t\t\t\t<FileSpreadsheet className=\"h-4 w-4 flex-shrink-0\" />\n   103→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.invoices\")}</span>\n   104→\t\t\t\t\t\t</TabsTrigger>\n   105→\t\t\t\t\t\t<TabsTrigger value=\"assistant\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   106→\t\t\t\t\t\t\t<MessageSquare className=\"h-4 w-4 flex-shrink-0\" />\n   107→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.assistant\")}</span>\n   108→\t\t\t\t\t\t</TabsTrigger>\n   109→\t\t\t\t\t\t<TabsTrigger value=\"tax\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   110→\t\t\t\t\t\t\t<Calculator className=\"h-4 w-4 flex-shrink-0\" />\n   111→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.tax\")}</span>\n   112→\t\t\t\t\t\t</TabsTrigger>\n   113→\t\t\t\t\t\t<TabsTrigger value=\"compliance\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   114→\t\t\t\t\t\t\t<Globe className=\"h-4 w-4 flex-shrink-0\" />\n   115→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.compliance\")}</span>\n   116→\t\t\t\t\t\t</TabsTrigger>\n   117→\t\t\t\t\t\t<TabsTrigger value=\"reports\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   118→\t\t\t\t\t\t\t<FileText className=\"h-4 w-4 flex-shrink-0\" />\n   119→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.reports\")}</span>\n   120→\t\t\t\t\t\t</TabsTrigger>\n   121→\t\t\t\t\t\t<TabsTrigger value=\"reminders\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   122→\t\t\t\t\t\t\t<Bell className=\"h-4 w-4 flex-shrink-0\" />\n   123→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.reminders\")}</span>\n   124→\t\t\t\t\t\t</TabsTrigger>\n   125→\t\t\t\t\t\t<TabsTrigger value=\"settings\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n   126→\t\t\t\t\t\t\t<Settings className=\"h-4 w-4 flex-shrink-0\" />\n   127→\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.settings\")}</span>\n   128→\t\t\t\t\t\t</TabsTrigger>\n   129→\t\t\t\t\t</TabsList>\n   130→\n   131→\t\t\t\t\t<TabsContent value=\"dashboard\" className=\"space-y-4\">\n   132→\t\t\t\t\t\t<DashboardView />\n   133→\t\t\t\t\t</TabsContent>\n   134→\n   135→\t\t\t\t\t<TabsContent value=\"transactions\">\n   136→\t\t\t\t\t\t<TransactionsView />\n   137→\t\t\t\t\t</TabsContent>\n   138→\n   139→\t\t\t\t\t<TabsContent value=\"invoices\">\n   140→\t\t\t\t\t\t<InvoicesView />\n   141→\t\t\t\t\t</TabsContent>\n   142→\n   143→\t\t\t\t\t<TabsContent value=\"assistant\">\n   144→\t\t\t\t\t\t<AIAssistantView />\n   145→\t\t\t\t\t</TabsContent>\n   146→\n   147→\t\t\t\t\t<TabsContent value=\"tax\">\n   148→\t\t\t\t\t\t<TaxCalculatorView />\n   149→\t\t\t\t\t</TabsContent>\n   150→\n   151→\t\t\t\t\t<TabsContent value=\"compliance\">\n   152→\t\t\t\t\t\t<TaxComplianceView />\n   153→\t\t\t\t\t</TabsContent>\n   154→\n   155→\t\t\t\t\t<TabsContent value=\"reports\">\n   156→\t\t\t\t\t\t<ReportsView />\n   157→\t\t\t\t\t</TabsContent>\n   158→\n   159→\t\t\t\t\t<TabsContent value=\"reminders\">\n   160→\t\t\t\t\t\t<RemindersView />\n   161→\t\t\t\t\t</TabsContent>\n   162→\n   163→\t\t\t\t\t<TabsContent value=\"settings\">\n   164→\t\t\t\t\t\t<SettingsView />\n   165→\t\t\t\t\t</TabsContent>\n   166→\t\t\t\t</Tabs>\n   167→\t\t\t</main>\n   168→\t\t</div>\n   169→\t);\n   170→}\n   171→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"b0c990da-0194-442f-b249-e6f727d0cfd9","timestamp":"2025-12-10T19:08:15.399Z","toolUseResult":{"type":"text","file":{"filePath":"/home/user/vite-template/src/routes/index.tsx","content":"import { createFileRoute } from \"@tanstack/react-router\";\nimport { useState, useEffect, Suspense } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { DashboardView } from \"@/components/DashboardView\";\nimport { TransactionsView } from \"@/components/TransactionsView\";\nimport { AIAssistantView } from \"@/components/AIAssistantView\";\nimport { TaxCalculatorView } from \"@/components/TaxCalculatorView\";\nimport { TaxComplianceView } from \"@/components/TaxComplianceView\";\nimport { ReportsView } from \"@/components/ReportsView\";\nimport { RemindersView } from \"@/components/RemindersView\";\nimport { SettingsView } from \"@/components/SettingsView\";\nimport { InvoicesView } from \"@/components/InvoicesView\";\nimport { PricingPaywall } from \"@/components/PricingPaywall\";\nimport { LanguageSwitcher } from \"@/components/LanguageSwitcher\";\nimport { LayoutDashboard, Receipt, MessageSquare, Calculator, FileText, Bell, Settings, FileSpreadsheet, Globe } from \"lucide-react\";\n\nexport const Route = createFileRoute(\"/\")({\n\tcomponent: () => (\n\t\t<Suspense fallback={<div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center\">\n\t\t\t<div className=\"text-white text-xl\">Loading...</div>\n\t\t</div>}>\n\t\t\t<App />\n\t\t</Suspense>\n\t),\n});\n\nfunction App() {\n\tconst { t, i18n } = useTranslation();\n\tconst [activeTab, setActiveTab] = useState(\"dashboard\");\n\tconst [isPurchased, setIsPurchased] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\t// Check purchase status on mount\n\tuseEffect(() => {\n\t\tconst checkPurchaseStatus = () => {\n\t\t\tconst purchased = localStorage.getItem('app_purchased') === 'true';\n\t\t\tsetIsPurchased(purchased);\n\t\t\tsetIsLoading(false);\n\t\t};\n\n\t\tcheckPurchaseStatus();\n\t}, []);\n\n\t// Handle purchase completion\n\tconst handlePurchaseComplete = () => {\n\t\tsetIsPurchased(true);\n\t};\n\n\t// Show loading state briefly\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center\">\n\t\t\t\t<div className=\"text-white text-xl\">{t(\"app.loading\")}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Show paywall if not purchased\n\tif (!isPurchased) {\n\t\treturn <PricingPaywall onPurchaseComplete={handlePurchaseComplete} />;\n\t}\n\n\treturn (\n\t\t<div key={i18n.language} className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 relative overflow-hidden\">\n\t\t\t{/* Animated background elements */}\n\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n\t\t\t\t<div className=\"absolute top-20 right-20 w-96 h-96 bg-purple-300/20 rounded-full blur-3xl animate-pulse\"></div>\n\t\t\t\t<div className=\"absolute bottom-20 left-20 w-80 h-80 bg-pink-300/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\t\t\t</div>\n\n\t\t\t<header className=\"bg-gradient-to-r from-white/80 via-purple-50/80 to-pink-50/80 backdrop-blur-xl border-b border-purple-200/50 shadow-lg shadow-purple-200/50 sticky top-0 z-50\">\n\t\t\t\t<div className=\"container mx-auto px-4 py-4\">\n\t\t\t\t\t<div className=\"flex items-center justify-between gap-3\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3 group\">\n\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n\t\t\t\t\t\t\t\t<Calculator className=\"h-6 w-6 text-white\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600\">{t(\"app.title\")}</h1>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-purple-600 font-medium\">{t(\"app.subtitle\")}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<LanguageSwitcher />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<main className=\"container mx-auto px-4 py-6 relative z-10\">\n\t\t\t\t<Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-9 gap-1.5 h-auto bg-gradient-to-r from-white/80 via-purple-50/80 to-pink-50/80 backdrop-blur-xl border border-purple-200/50 shadow-lg shadow-purple-200/30 p-1.5\">\n\t\t\t\t\t\t<TabsTrigger value=\"dashboard\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<LayoutDashboard className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.dashboard\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"transactions\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<Receipt className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.transactions\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"invoices\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<FileSpreadsheet className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.invoices\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"assistant\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<MessageSquare className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.assistant\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"tax\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<Calculator className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.tax\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"compliance\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<Globe className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.compliance\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"reports\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<FileText className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.reports\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"reminders\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<Bell className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.reminders\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"settings\" className=\"flex items-center justify-center gap-1.5 px-2 py-2.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-emerald-500 data-[state=active]:to-teal-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/50 transition-all duration-300 hover:scale-105 text-xs sm:text-sm\">\n\t\t\t\t\t\t\t<Settings className=\"h-4 w-4 flex-shrink-0\" />\n\t\t\t\t\t\t\t<span className=\"hidden sm:inline truncate\">{t(\"tabs.settings\")}</span>\n\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t<TabsContent value=\"dashboard\" className=\"space-y-4\">\n\t\t\t\t\t\t<DashboardView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"transactions\">\n\t\t\t\t\t\t<TransactionsView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"invoices\">\n\t\t\t\t\t\t<InvoicesView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"assistant\">\n\t\t\t\t\t\t<AIAssistantView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"tax\">\n\t\t\t\t\t\t<TaxCalculatorView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"compliance\">\n\t\t\t\t\t\t<TaxComplianceView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"reports\">\n\t\t\t\t\t\t<ReportsView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"reminders\">\n\t\t\t\t\t\t<RemindersView />\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"settings\">\n\t\t\t\t\t\t<SettingsView />\n\t\t\t\t\t</TabsContent>\n\t\t\t\t</Tabs>\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n","numLines":171,"startLine":1,"totalLines":171}}}
{"parentUuid":"b0c990da-0194-442f-b249-e6f727d0cfd9","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_015utEAPR5NSS3hGaZVFm6gm","type":"message","role":"assistant","content":[{"type":"text","text":"Теперь проверю компонент SettingsView, где должны отображаться платёжные сервисы:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":4173,"cache_read_input_tokens":19083,"cache_creation":{"ephemeral_5m_input_tokens":4173,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"8d17a225-7fd6-4e8b-aff8-2a191993b38f","timestamp":"2025-12-10T19:08:18.613Z"}
{"parentUuid":"8d17a225-7fd6-4e8b-aff8-2a191993b38f","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_015utEAPR5NSS3hGaZVFm6gm","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_016tqrWE2CkenSThh4LbS5JM","name":"Read","input":{"file_path":"/home/user/vite-template/src/components/SettingsView.tsx"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":4173,"cache_read_input_tokens":19083,"cache_creation":{"ephemeral_5m_input_tokens":4173,"ephemeral_1h_input_tokens":0},"output_tokens":104}},"type":"assistant","uuid":"25a0f6d1-2bf1-404e-82cf-e3d1509244cf","timestamp":"2025-12-10T19:08:19.193Z"}
{"parentUuid":"25a0f6d1-2bf1-404e-82cf-e3d1509244cf","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_016tqrWE2CkenSThh4LbS5JM","type":"tool_result","content":"     1→import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n     2→import { Button } from \"@/components/ui/button\";\n     3→import { Badge } from \"@/components/ui/badge\";\n     4→import { Separator } from \"@/components/ui/separator\";\n     5→import { CheckCircle, Smartphone, Apple, ShieldCheck, RefreshCw, Bitcoin, Copy, Check } from \"lucide-react\";\n     6→import { useState } from \"react\";\n     7→import { CurrencyConverter } from \"@/components/CurrencyConverter\";\n     8→\n     9→export function SettingsView() {\n    10→\tconst [purchaseInfo] = useState({\n    11→\t\tpurchased: localStorage.getItem('app_purchased') === 'true',\n    12→\t\tplatform: localStorage.getItem('purchase_platform') || 'unknown',\n    13→\t\tdate: localStorage.getItem('purchase_date') || new Date().toLocaleDateString(),\n    14→\t});\n    15→\tconst [copied, setCopied] = useState(false);\n    16→\n    17→\tconst bitcoinAddress = \"bc1qazhtq0xh99jdpmm9pr67pngxh40zt75gnxeslz\";\n    18→\n    19→\tconst handleRestorePurchase = () => {\n    20→\t\t// In production, this would verify the purchase with App Store/Google Play\n    21→\t\tconst purchased = localStorage.getItem('app_purchased') === 'true';\n    22→\t\tif (purchased) {\n    23→\t\t\talert('✓ Purchase verified successfully!');\n    24→\t\t} else {\n    25→\t\t\talert('No previous purchase found. Please purchase the app first.');\n    26→\t\t}\n    27→\t};\n    28→\n    29→\tconst handleCopyBitcoinAddress = async () => {\n    30→\t\ttry {\n    31→\t\t\tawait navigator.clipboard.writeText(bitcoinAddress);\n    32→\t\t\tsetCopied(true);\n    33→\t\t\tsetTimeout(() => setCopied(false), 2000);\n    34→\t\t} catch (err) {\n    35→\t\t\tconsole.error('Failed to copy:', err);\n    36→\t\t}\n    37→\t};\n    38→\n    39→\tconst getPlatformIcon = () => {\n    40→\t\tif (purchaseInfo.platform === 'appstore') {\n    41→\t\t\treturn <Apple className=\"h-5 w-5\" />;\n    42→\t\t}\n    43→\t\tif (purchaseInfo.platform === 'googleplay') {\n    44→\t\t\treturn <Smartphone className=\"h-5 w-5\" />;\n    45→\t\t}\n    46→\t\treturn <ShieldCheck className=\"h-5 w-5\" />;\n    47→\t};\n    48→\n    49→\tconst getPlatformName = () => {\n    50→\t\tif (purchaseInfo.platform === 'appstore') return 'App Store';\n    51→\t\tif (purchaseInfo.platform === 'googleplay') return 'Google Play';\n    52→\t\treturn 'Unknown';\n    53→\t};\n    54→\n    55→\treturn (\n    56→\t\t<div className=\"space-y-6\">\n    57→\t\t\t<div>\n    58→\t\t\t\t<h2 className=\"text-3xl font-bold text-slate-900\">Settings & Account</h2>\n    59→\t\t\t\t<p className=\"text-slate-600 mt-1\">Manage your subscription and app settings</p>\n    60→\t\t\t</div>\n    61→\n    62→\t\t\t{/* Purchase Information */}\n    63→\t\t\t<Card>\n    64→\t\t\t\t<CardHeader>\n    65→\t\t\t\t\t<div className=\"flex items-center justify-between\">\n    66→\t\t\t\t\t\t<div>\n    67→\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2\">\n    68→\t\t\t\t\t\t\t\t<CheckCircle className=\"h-5 w-5 text-emerald-500\" />\n    69→\t\t\t\t\t\t\t\tPurchase Status\n    70→\t\t\t\t\t\t\t</CardTitle>\n    71→\t\t\t\t\t\t\t<CardDescription>Your app license information</CardDescription>\n    72→\t\t\t\t\t\t</div>\n    73→\t\t\t\t\t\t<Badge className=\"bg-emerald-500 hover:bg-emerald-600\">\n    74→\t\t\t\t\t\t\tActive\n    75→\t\t\t\t\t\t</Badge>\n    76→\t\t\t\t\t</div>\n    77→\t\t\t\t</CardHeader>\n    78→\t\t\t\t<CardContent className=\"space-y-4\">\n    79→\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2\">\n    80→\t\t\t\t\t\t<div className=\"flex items-start gap-3 p-4 rounded-lg bg-slate-50\">\n    81→\t\t\t\t\t\t\t<div className=\"bg-blue-500 text-white p-2 rounded-lg\">\n    82→\t\t\t\t\t\t\t\t{getPlatformIcon()}\n    83→\t\t\t\t\t\t\t</div>\n    84→\t\t\t\t\t\t\t<div>\n    85→\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-600\">Platform</p>\n    86→\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold text-slate-900\">{getPlatformName()}</p>\n    87→\t\t\t\t\t\t\t</div>\n    88→\t\t\t\t\t\t</div>\n    89→\n    90→\t\t\t\t\t\t<div className=\"flex items-start gap-3 p-4 rounded-lg bg-slate-50\">\n    91→\t\t\t\t\t\t\t<div className=\"bg-emerald-500 text-white p-2 rounded-lg\">\n    92→\t\t\t\t\t\t\t\t<CheckCircle className=\"h-5 w-5\" />\n    93→\t\t\t\t\t\t\t</div>\n    94→\t\t\t\t\t\t\t<div>\n    95→\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-600\">License Type</p>\n    96→\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold text-slate-900\">Lifetime</p>\n    97→\t\t\t\t\t\t\t</div>\n    98→\t\t\t\t\t\t</div>\n    99→\t\t\t\t\t</div>\n   100→\n   101→\t\t\t\t\t<Separator />\n   102→\n   103→\t\t\t\t\t<div className=\"space-y-2\">\n   104→\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n   105→\t\t\t\t\t\t\t<span className=\"text-slate-600\">Purchase Price</span>\n   106→\t\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">$50.00 USD</span>\n   107→\t\t\t\t\t\t</div>\n   108→\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n   109→\t\t\t\t\t\t\t<span className=\"text-slate-600\">Purchase Date</span>\n   110→\t\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">{purchaseInfo.date}</span>\n   111→\t\t\t\t\t\t</div>\n   112→\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n   113→\t\t\t\t\t\t\t<span className=\"text-slate-600\">Payment Status</span>\n   114→\t\t\t\t\t\t\t<span className=\"font-semibold text-emerald-600\">Paid</span>\n   115→\t\t\t\t\t\t</div>\n   116→\t\t\t\t\t</div>\n   117→\n   118→\t\t\t\t\t<Button\n   119→\t\t\t\t\t\tonClick={handleRestorePurchase}\n   120→\t\t\t\t\t\tvariant=\"outline\"\n   121→\t\t\t\t\t\tclassName=\"w-full\"\n   122→\t\t\t\t\t>\n   123→\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n   124→\t\t\t\t\t\tRestore Purchase\n   125→\t\t\t\t\t</Button>\n   126→\t\t\t\t</CardContent>\n   127→\t\t\t</Card>\n   128→\n   129→\t\t\t{/* Features Included */}\n   130→\t\t\t<Card>\n   131→\t\t\t\t<CardHeader>\n   132→\t\t\t\t\t<CardTitle>Included Features</CardTitle>\n   133→\t\t\t\t\t<CardDescription>Everything included in your lifetime license</CardDescription>\n   134→\t\t\t\t</CardHeader>\n   135→\t\t\t\t<CardContent>\n   136→\t\t\t\t\t<div className=\"grid gap-3 sm:grid-cols-2\">\n   137→\t\t\t\t\t\t{[\n   138→\t\t\t\t\t\t\t\"AI Financial Assistant\",\n   139→\t\t\t\t\t\t\t\"Unlimited Transactions\",\n   140→\t\t\t\t\t\t\t\"Tax Calculator\",\n   141→\t\t\t\t\t\t\t\"Financial Reports\",\n   142→\t\t\t\t\t\t\t\"Bill Reminders\",\n   143→\t\t\t\t\t\t\t\"Multi-Currency Support\",\n   144→\t\t\t\t\t\t\t\"Priority Support\",\n   145→\t\t\t\t\t\t\t\"Lifetime Updates\",\n   146→\t\t\t\t\t\t].map((feature, index) => (\n   147→\t\t\t\t\t\t\t<div key={index} className=\"flex items-center gap-2\">\n   148→\t\t\t\t\t\t\t\t<CheckCircle className=\"h-4 w-4 text-emerald-500 flex-shrink-0\" />\n   149→\t\t\t\t\t\t\t\t<span className=\"text-sm text-slate-700\">{feature}</span>\n   150→\t\t\t\t\t\t\t</div>\n   151→\t\t\t\t\t\t))}\n   152→\t\t\t\t\t</div>\n   153→\t\t\t\t</CardContent>\n   154→\t\t\t</Card>\n   155→\n   156→\t\t\t{/* Currency Converter */}\n   157→\t\t\t<CurrencyConverter />\n   158→\n   159→\t\t\t{/* Bitcoin Donations */}\n   160→\t\t\t<Card className=\"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50\">\n   161→\t\t\t\t<CardHeader>\n   162→\t\t\t\t\t<div className=\"flex items-center gap-2\">\n   163→\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-orange-500 to-amber-600 p-2 rounded-lg\">\n   164→\t\t\t\t\t\t\t<Bitcoin className=\"h-5 w-5 text-white\" />\n   165→\t\t\t\t\t\t</div>\n   166→\t\t\t\t\t\t<div>\n   167→\t\t\t\t\t\t\t<CardTitle>Support Development</CardTitle>\n   168→\t\t\t\t\t\t\t<CardDescription>Bitcoin donations are appreciated</CardDescription>\n   169→\t\t\t\t\t\t</div>\n   170→\t\t\t\t\t</div>\n   171→\t\t\t\t</CardHeader>\n   172→\t\t\t\t<CardContent className=\"space-y-4\">\n   173→\t\t\t\t\t<div className=\"p-4 bg-white rounded-lg border border-orange-200\">\n   174→\t\t\t\t\t\t<p className=\"text-xs font-medium text-slate-600 mb-2\">Bitcoin Address</p>\n   175→\t\t\t\t\t\t<div className=\"flex items-center gap-2 p-3 bg-slate-50 rounded-lg border border-slate-200\">\n   176→\t\t\t\t\t\t\t<code className=\"text-sm font-mono text-slate-900 flex-1 break-all\">\n   177→\t\t\t\t\t\t\t\t{bitcoinAddress}\n   178→\t\t\t\t\t\t\t</code>\n   179→\t\t\t\t\t\t\t<Button\n   180→\t\t\t\t\t\t\t\tsize=\"sm\"\n   181→\t\t\t\t\t\t\t\tvariant=\"outline\"\n   182→\t\t\t\t\t\t\t\tonClick={handleCopyBitcoinAddress}\n   183→\t\t\t\t\t\t\t\tclassName=\"flex-shrink-0\"\n   184→\t\t\t\t\t\t\t>\n   185→\t\t\t\t\t\t\t\t{copied ? (\n   186→\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-500\" />\n   187→\t\t\t\t\t\t\t\t) : (\n   188→\t\t\t\t\t\t\t\t\t<Copy className=\"h-4 w-4\" />\n   189→\t\t\t\t\t\t\t\t)}\n   190→\t\t\t\t\t\t\t</Button>\n   191→\t\t\t\t\t\t</div>\n   192→\t\t\t\t\t</div>\n   193→\t\t\t\t\t<p className=\"text-xs text-slate-600 text-center\">\n   194→\t\t\t\t\t\tYour donations help us continue improving this app. Thank you for your support!\n   195→\t\t\t\t\t</p>\n   196→\t\t\t\t</CardContent>\n   197→\t\t\t</Card>\n   198→\n   199→\t\t\t{/* App Information */}\n   200→\t\t\t<Card>\n   201→\t\t\t\t<CardHeader>\n   202→\t\t\t\t\t<CardTitle>App Information</CardTitle>\n   203→\t\t\t\t\t<CardDescription>Version and support details</CardDescription>\n   204→\t\t\t\t</CardHeader>\n   205→\t\t\t\t<CardContent className=\"space-y-2 text-sm\">\n   206→\t\t\t\t\t<div className=\"flex justify-between\">\n   207→\t\t\t\t\t\t<span className=\"text-slate-600\">Version</span>\n   208→\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">1.0.0</span>\n   209→\t\t\t\t\t</div>\n   210→\t\t\t\t\t<div className=\"flex justify-between\">\n   211→\t\t\t\t\t\t<span className=\"text-slate-600\">Support Email</span>\n   212→\t\t\t\t\t\t<span className=\"font-semibold text-blue-600\">support@aiaccountant.app</span>\n   213→\t\t\t\t\t</div>\n   214→\t\t\t\t\t<div className=\"flex justify-between\">\n   215→\t\t\t\t\t\t<span className=\"text-slate-600\">Privacy Policy</span>\n   216→\t\t\t\t\t\t<Button variant=\"link\" className=\"h-auto p-0 text-blue-600\">\n   217→\t\t\t\t\t\t\tView Policy\n   218→\t\t\t\t\t\t</Button>\n   219→\t\t\t\t\t</div>\n   220→\t\t\t\t\t<div className=\"flex justify-between\">\n   221→\t\t\t\t\t\t<span className=\"text-slate-600\">Terms of Service</span>\n   222→\t\t\t\t\t\t<Button variant=\"link\" className=\"h-auto p-0 text-blue-600\">\n   223→\t\t\t\t\t\t\tView Terms\n   224→\t\t\t\t\t\t</Button>\n   225→\t\t\t\t\t</div>\n   226→\t\t\t\t</CardContent>\n   227→\t\t\t</Card>\n   228→\t\t</div>\n   229→\t);\n   230→}\n   231→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"6ef0b83b-e491-4755-8614-3c0208d840fe","timestamp":"2025-12-10T19:08:19.217Z","toolUseResult":{"type":"text","file":{"filePath":"/home/user/vite-template/src/components/SettingsView.tsx","content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { CheckCircle, Smartphone, Apple, ShieldCheck, RefreshCw, Bitcoin, Copy, Check } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { CurrencyConverter } from \"@/components/CurrencyConverter\";\n\nexport function SettingsView() {\n\tconst [purchaseInfo] = useState({\n\t\tpurchased: localStorage.getItem('app_purchased') === 'true',\n\t\tplatform: localStorage.getItem('purchase_platform') || 'unknown',\n\t\tdate: localStorage.getItem('purchase_date') || new Date().toLocaleDateString(),\n\t});\n\tconst [copied, setCopied] = useState(false);\n\n\tconst bitcoinAddress = \"bc1qazhtq0xh99jdpmm9pr67pngxh40zt75gnxeslz\";\n\n\tconst handleRestorePurchase = () => {\n\t\t// In production, this would verify the purchase with App Store/Google Play\n\t\tconst purchased = localStorage.getItem('app_purchased') === 'true';\n\t\tif (purchased) {\n\t\t\talert('✓ Purchase verified successfully!');\n\t\t} else {\n\t\t\talert('No previous purchase found. Please purchase the app first.');\n\t\t}\n\t};\n\n\tconst handleCopyBitcoinAddress = async () => {\n\t\ttry {\n\t\t\tawait navigator.clipboard.writeText(bitcoinAddress);\n\t\t\tsetCopied(true);\n\t\t\tsetTimeout(() => setCopied(false), 2000);\n\t\t} catch (err) {\n\t\t\tconsole.error('Failed to copy:', err);\n\t\t}\n\t};\n\n\tconst getPlatformIcon = () => {\n\t\tif (purchaseInfo.platform === 'appstore') {\n\t\t\treturn <Apple className=\"h-5 w-5\" />;\n\t\t}\n\t\tif (purchaseInfo.platform === 'googleplay') {\n\t\t\treturn <Smartphone className=\"h-5 w-5\" />;\n\t\t}\n\t\treturn <ShieldCheck className=\"h-5 w-5\" />;\n\t};\n\n\tconst getPlatformName = () => {\n\t\tif (purchaseInfo.platform === 'appstore') return 'App Store';\n\t\tif (purchaseInfo.platform === 'googleplay') return 'Google Play';\n\t\treturn 'Unknown';\n\t};\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div>\n\t\t\t\t<h2 className=\"text-3xl font-bold text-slate-900\">Settings & Account</h2>\n\t\t\t\t<p className=\"text-slate-600 mt-1\">Manage your subscription and app settings</p>\n\t\t\t</div>\n\n\t\t\t{/* Purchase Information */}\n\t\t\t<Card>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<CheckCircle className=\"h-5 w-5 text-emerald-500\" />\n\t\t\t\t\t\t\t\tPurchase Status\n\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t<CardDescription>Your app license information</CardDescription>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Badge className=\"bg-emerald-500 hover:bg-emerald-600\">\n\t\t\t\t\t\t\tActive\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</div>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2\">\n\t\t\t\t\t\t<div className=\"flex items-start gap-3 p-4 rounded-lg bg-slate-50\">\n\t\t\t\t\t\t\t<div className=\"bg-blue-500 text-white p-2 rounded-lg\">\n\t\t\t\t\t\t\t\t{getPlatformIcon()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-600\">Platform</p>\n\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold text-slate-900\">{getPlatformName()}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex items-start gap-3 p-4 rounded-lg bg-slate-50\">\n\t\t\t\t\t\t\t<div className=\"bg-emerald-500 text-white p-2 rounded-lg\">\n\t\t\t\t\t\t\t\t<CheckCircle className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-slate-600\">License Type</p>\n\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold text-slate-900\">Lifetime</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Separator />\n\n\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t<span className=\"text-slate-600\">Purchase Price</span>\n\t\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">$50.00 USD</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t<span className=\"text-slate-600\">Purchase Date</span>\n\t\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">{purchaseInfo.date}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t<span className=\"text-slate-600\">Payment Status</span>\n\t\t\t\t\t\t\t<span className=\"font-semibold text-emerald-600\">Paid</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleRestorePurchase}\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tRestore Purchase\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Features Included */}\n\t\t\t<Card>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle>Included Features</CardTitle>\n\t\t\t\t\t<CardDescription>Everything included in your lifetime license</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<div className=\"grid gap-3 sm:grid-cols-2\">\n\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t\"AI Financial Assistant\",\n\t\t\t\t\t\t\t\"Unlimited Transactions\",\n\t\t\t\t\t\t\t\"Tax Calculator\",\n\t\t\t\t\t\t\t\"Financial Reports\",\n\t\t\t\t\t\t\t\"Bill Reminders\",\n\t\t\t\t\t\t\t\"Multi-Currency Support\",\n\t\t\t\t\t\t\t\"Priority Support\",\n\t\t\t\t\t\t\t\"Lifetime Updates\",\n\t\t\t\t\t\t].map((feature, index) => (\n\t\t\t\t\t\t\t<div key={index} className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<CheckCircle className=\"h-4 w-4 text-emerald-500 flex-shrink-0\" />\n\t\t\t\t\t\t\t\t<span className=\"text-sm text-slate-700\">{feature}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Currency Converter */}\n\t\t\t<CurrencyConverter />\n\n\t\t\t{/* Bitcoin Donations */}\n\t\t\t<Card className=\"border-orange-200 bg-gradient-to-br from-orange-50 to-amber-50\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-orange-500 to-amber-600 p-2 rounded-lg\">\n\t\t\t\t\t\t\t<Bitcoin className=\"h-5 w-5 text-white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<CardTitle>Support Development</CardTitle>\n\t\t\t\t\t\t\t<CardDescription>Bitcoin donations are appreciated</CardDescription>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t<div className=\"p-4 bg-white rounded-lg border border-orange-200\">\n\t\t\t\t\t\t<p className=\"text-xs font-medium text-slate-600 mb-2\">Bitcoin Address</p>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 p-3 bg-slate-50 rounded-lg border border-slate-200\">\n\t\t\t\t\t\t\t<code className=\"text-sm font-mono text-slate-900 flex-1 break-all\">\n\t\t\t\t\t\t\t\t{bitcoinAddress}\n\t\t\t\t\t\t\t</code>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={handleCopyBitcoinAddress}\n\t\t\t\t\t\t\t\tclassName=\"flex-shrink-0\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{copied ? (\n\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-500\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Copy className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-xs text-slate-600 text-center\">\n\t\t\t\t\t\tYour donations help us continue improving this app. Thank you for your support!\n\t\t\t\t\t</p>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* App Information */}\n\t\t\t<Card>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle>App Information</CardTitle>\n\t\t\t\t\t<CardDescription>Version and support details</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"space-y-2 text-sm\">\n\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t<span className=\"text-slate-600\">Version</span>\n\t\t\t\t\t\t<span className=\"font-semibold text-slate-900\">1.0.0</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t<span className=\"text-slate-600\">Support Email</span>\n\t\t\t\t\t\t<span className=\"font-semibold text-blue-600\">support@aiaccountant.app</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t<span className=\"text-slate-600\">Privacy Policy</span>\n\t\t\t\t\t\t<Button variant=\"link\" className=\"h-auto p-0 text-blue-600\">\n\t\t\t\t\t\t\tView Policy\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t<span className=\"text-slate-600\">Terms of Service</span>\n\t\t\t\t\t\t<Button variant=\"link\" className=\"h-auto p-0 text-blue-600\">\n\t\t\t\t\t\t\tView Terms\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n","numLines":231,"startLine":1,"totalLines":231}}}
{"parentUuid":"6ef0b83b-e491-4755-8614-3c0208d840fe","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_012b61hktgR1bwBx1ia1oMaV","type":"message","role":"assistant","content":[{"type":"text","text":"Теперь проверю компонент PricingPaywall, где должны быть все платёжные сервисы:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":3385,"cache_read_input_tokens":23256,"cache_creation":{"ephemeral_5m_input_tokens":3385,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"14554f7c-6c50-4671-8c35-a6b373d24afa","timestamp":"2025-12-10T19:08:22.645Z"}
{"parentUuid":"14554f7c-6c50-4671-8c35-a6b373d24afa","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_012b61hktgR1bwBx1ia1oMaV","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_01BwZLWNt64FYMMq3GxaARng","name":"Read","input":{"file_path":"/home/user/vite-template/src/components/PricingPaywall.tsx"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":3385,"cache_read_input_tokens":23256,"cache_creation":{"ephemeral_5m_input_tokens":3385,"ephemeral_1h_input_tokens":0},"output_tokens":105}},"type":"assistant","uuid":"6dfce505-418d-4afc-a183-e6b603ed6001","timestamp":"2025-12-10T19:08:23.183Z"}
{"parentUuid":"6dfce505-418d-4afc-a183-e6b603ed6001","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_01BwZLWNt64FYMMq3GxaARng","type":"tool_result","content":"     1→import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n     2→import { Button } from \"@/components/ui/button\";\n     3→import { Badge } from \"@/components/ui/badge\";\n     4→import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n     5→import { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\n     6→import { PayPalButton } from \"@/components/PayPalButton\";\n     7→import { StripeCardButton } from \"@/components/StripeCardButton\";\n     8→import { ApplePayButton } from \"@/components/ApplePayButton\";\n     9→import { GooglePayButton } from \"@/components/GooglePayButton\";\n    10→import { MetamaskButton } from \"@/components/MetamaskButton\";\n    11→import { BitcoinPayment } from \"@/components/BitcoinPayment\";\n    12→import { BankTransferPayment } from \"@/components/BankTransferPayment\";\n    13→import { useState, useEffect } from \"react\";\n    14→import { type PayPalCaptureResult } from \"@/components/PayPalButton\";\n    15→import { purchaseManager, type PlatformType } from \"@/services/purchase-manager\";\n    16→\n    17→interface PricingPaywallProps {\n    18→\tonPurchaseComplete?: () => void;\n    19→}\n    20→\n    21→export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n    22→\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n    23→\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n    24→\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n    25→\tconst [isRestoring, setIsRestoring] = useState(false);\n    26→\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n    27→\n    28→\t// Detect platform on mount\n    29→\tuseEffect(() => {\n    30→\t\tconst platform = purchaseManager.getPlatform();\n    31→\t\tsetCurrentPlatform(platform);\n    32→\n    33→\t\t// Auto-select app store tab if on mobile platform\n    34→\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n    35→\t\t\tsetPaymentMethod('appstore');\n    36→\t\t}\n    37→\t}, []);\n    38→\n    39→\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n    40→\n    41→\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {\n    42→\t\tconsole.log(\"Payment successful:\", details);\n    43→\n    44→\t\t// Save web purchase info\n    45→\t\tlocalStorage.setItem('app_purchased', 'true');\n    46→\t\tlocalStorage.setItem('purchase_platform', 'web');\n    47→\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n    48→\t\tlocalStorage.setItem('purchase_verified', 'true');\n    49→\t\tlocalStorage.setItem('subscription_plan', selectedPlan);\n    50→\n    51→\t\tsetShowSuccessMessage(true);\n    52→\t\t// Auto-unlock after showing success message\n    53→\t\tsetTimeout(() => {\n    54→\t\t\tonPurchaseComplete?.();\n    55→\t\t}, 2000);\n    56→\t};\n    57→\n    58→\tconst handlePaymentError = (error: Error) => {\n    59→\t\tconsole.error(\"Payment error:\", error);\n    60→\t\talert(\"Payment failed. Please try again or contact support.\");\n    61→\t};\n    62→\n    63→\tconst handlePaymentCancel = () => {\n    64→\t\tconsole.log(\"Payment cancelled by user\");\n    65→\t};\n    66→\n    67→\tconst handleAppStorePurchase = async () => {\n    68→\t\ttry {\n    69→\t\t\t// Use the unified purchase manager for App Store\n    70→\t\t\tconst result = await purchaseManager.purchaseViaStore();\n    71→\n    72→\t\t\tif (result.success) {\n    73→\t\t\t\tsetShowSuccessMessage(true);\n    74→\t\t\t\tsetTimeout(() => {\n    75→\t\t\t\t\tonPurchaseComplete?.();\n    76→\t\t\t\t}, 2000);\n    77→\t\t\t} else {\n    78→\t\t\t\t// If IAP not available, fallback to browser redirect\n    79→\t\t\t\tconst appStoreUrl = \"https://apps.apple.com/app/ai-accountant/id123456789\";\n    80→\t\t\t\twindow.open(appStoreUrl, '_blank');\n    81→\n    82→\t\t\t\t// For demo purposes, simulate purchase completion\n    83→\t\t\t\tsetTimeout(() => {\n    84→\t\t\t\t\tif (confirm(\"Did you complete the purchase on App Store?\")) {\n    85→\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n    86→\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'appstore');\n    87→\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n    88→\t\t\t\t\t\tonPurchaseComplete?.();\n    89→\t\t\t\t\t}\n    90→\t\t\t\t}, 2000);\n    91→\t\t\t}\n    92→\t\t} catch (error) {\n    93→\t\t\tconsole.error('App Store purchase failed:', error);\n    94→\t\t\talert('Purchase failed. Please try again.');\n    95→\t\t}\n    96→\t};\n    97→\n    98→\tconst handleGooglePlayPurchase = async () => {\n    99→\t\ttry {\n   100→\t\t\t// Use the unified purchase manager for Google Play\n   101→\t\t\tconst result = await purchaseManager.purchaseViaStore();\n   102→\n   103→\t\t\tif (result.success) {\n   104→\t\t\t\tsetShowSuccessMessage(true);\n   105→\t\t\t\tsetTimeout(() => {\n   106→\t\t\t\t\tonPurchaseComplete?.();\n   107→\t\t\t\t}, 2000);\n   108→\t\t\t} else {\n   109→\t\t\t\t// If IAP not available, fallback to browser redirect\n   110→\t\t\t\tconst googlePlayUrl = \"https://play.google.com/store/apps/details?id=com.aiaccountant.app\";\n   111→\t\t\t\twindow.open(googlePlayUrl, '_blank');\n   112→\n   113→\t\t\t\t// For demo purposes, simulate purchase completion\n   114→\t\t\t\tsetTimeout(() => {\n   115→\t\t\t\t\tif (confirm(\"Did you complete the purchase on Google Play?\")) {\n   116→\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n   117→\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'googleplay');\n   118→\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n   119→\t\t\t\t\t\tonPurchaseComplete?.();\n   120→\t\t\t\t\t}\n   121→\t\t\t\t}, 2000);\n   122→\t\t\t}\n   123→\t\t} catch (error) {\n   124→\t\t\tconsole.error('Google Play purchase failed:', error);\n   125→\t\t\talert('Purchase failed. Please try again.');\n   126→\t\t}\n   127→\t};\n   128→\n   129→\tconst handlePalmStorePurchase = async () => {\n   130→\t\ttry {\n   131→\t\t\t// Use the unified purchase manager for Palm Store\n   132→\t\t\tconst result = await purchaseManager.purchaseViaStore();\n   133→\n   134→\t\t\tif (result.success) {\n   135→\t\t\t\tsetShowSuccessMessage(true);\n   136→\t\t\t\tsetTimeout(() => {\n   137→\t\t\t\t\tonPurchaseComplete?.();\n   138→\t\t\t\t}, 2000);\n   139→\t\t\t} else {\n   140→\t\t\t\talert(result.error || 'Palm Store is only available on webOS devices');\n   141→\t\t\t}\n   142→\t\t} catch (error) {\n   143→\t\t\tconsole.error('Palm Store purchase failed:', error);\n   144→\t\t\talert('Purchase failed. Please try again.');\n   145→\t\t}\n   146→\t};\n   147→\n   148→\tconst handleRestorePurchases = async () => {\n   149→\t\tsetIsRestoring(true);\n   150→\n   151→\t\ttry {\n   152→\t\t\tconst result = await purchaseManager.restorePurchases();\n   153→\n   154→\t\t\tif (result.success) {\n   155→\t\t\t\talert('Purchase restored successfully!');\n   156→\t\t\t\tonPurchaseComplete?.();\n   157→\t\t\t} else {\n   158→\t\t\t\talert('No previous purchases found. Please make a new purchase.');\n   159→\t\t\t}\n   160→\t\t} catch (error) {\n   161→\t\t\tconsole.error('Restore failed:', error);\n   162→\t\t\talert('Failed to restore purchases. Please try again.');\n   163→\t\t} finally {\n   164→\t\t\tsetIsRestoring(false);\n   165→\t\t}\n   166→\t};\n   167→\n   168→\tconst features = [\n   169→\t\t\"AI-powered financial insights and advice\",\n   170→\t\t\"Unlimited transaction tracking\",\n   171→\t\t\"Smart tax calculation and optimization\",\n   172→\t\t\"Automated financial reports\",\n   173→\t\t\"Bill reminders and notifications\",\n   174→\t\t\"Multi-currency support\",\n   175→\t\t\"Bank-level encryption and security\",\n   176→\t\t\"Priority customer support\",\n   177→\t\t\"Lifetime updates and improvements\",\n   178→\t];\n   179→\n   180→\treturn (\n   181→\t\t<div className=\"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-pink-950 flex items-center justify-center p-4 relative overflow-hidden\">\n   182→\t\t\t{/* Animated background elements */}\n   183→\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n   184→\t\t\t\t<div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\n   185→\t\t\t\t<div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n   186→\t\t\t\t<div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\n   187→\t\t\t</div>\n   188→\n   189→\t\t\t<div className=\"max-w-4xl w-full relative z-10\">\n   190→\t\t\t\t<div className=\"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n   191→\t\t\t\t\t<div className=\"inline-flex items-center gap-3 mb-4 group\">\n   192→\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-2xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n   193→\t\t\t\t\t\t\t<Smartphone className=\"h-8 w-8 text-white\" />\n   194→\t\t\t\t\t\t</div>\n   195→\t\t\t\t\t\t<h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 animate-pulse\">\n   196→\t\t\t\t\t\t\tAI Accountant\n   197→\t\t\t\t\t\t</h1>\n   198→\t\t\t\t\t</div>\n   199→\t\t\t\t\t<p className=\"text-2xl text-purple-200 font-light tracking-wide\">Your Personal Financial Assistant</p>\n   200→\t\t\t\t</div>\n   201→\n   202→\t\t\t\t<Card className=\"border-purple-500/30 bg-gradient-to-br from-slate-900/80 via-purple-900/30 to-pink-900/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200\">\n   203→\t\t\t\t\t<CardHeader className=\"text-center pb-8\">\n   204→\t\t\t\t\t\t<div className=\"mb-6\">\n   205→\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"mb-2 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 text-emerald-300 border-emerald-400/50 shadow-lg shadow-emerald-500/50 px-4 py-1.5 text-sm font-semibold animate-pulse\">\n   206→\t\t\t\t\t\t\t\t✨ Subscription Plans ✨\n   207→\t\t\t\t\t\t\t</Badge>\n   208→\t\t\t\t\t\t</div>\n   209→\n   210→\t\t\t\t\t\t{/* Plan Selection Buttons */}\n   211→\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto mb-6\">\n   212→\t\t\t\t\t\t\t<button\n   213→\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('monthly')}\n   214→\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:-rotate-2 ${\n   215→\t\t\t\t\t\t\t\t\tselectedPlan === 'monthly'\n   216→\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n   217→\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n   218→\t\t\t\t\t\t\t\t}`}\n   219→\t\t\t\t\t\t\t>\n   220→\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Monthly</div>\n   221→\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$50</div>\n   222→\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per month</div>\n   223→\t\t\t\t\t\t\t</button>\n   224→\t\t\t\t\t\t\t<button\n   225→\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('yearly')}\n   226→\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:rotate-2 relative ${\n   227→\t\t\t\t\t\t\t\t\tselectedPlan === 'yearly'\n   228→\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n   229→\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n   230→\t\t\t\t\t\t\t\t}`}\n   231→\t\t\t\t\t\t\t>\n   232→\t\t\t\t\t\t\t\t<div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-pink-500 to-orange-500 text-white text-xs px-3 py-1.5 rounded-full shadow-lg shadow-pink-500/50 font-bold animate-bounce\">\n   233→\t\t\t\t\t\t\t\t\t🔥 Save 17%\n   234→\t\t\t\t\t\t\t\t</div>\n   235→\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Yearly</div>\n   236→\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$500</div>\n   237→\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per year</div>\n   238→\t\t\t\t\t\t\t</button>\n   239→\t\t\t\t\t\t</div>\n   240→\n   241→\t\t\t\t\t\t<CardTitle className=\"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 mb-3 animate-pulse\">\n   242→\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '$50' : '$500'}\n   243→\t\t\t\t\t\t</CardTitle>\n   244→\t\t\t\t\t\t<CardDescription className=\"text-lg text-purple-200 font-medium\">\n   245→\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '💳 Billed monthly' : '🎯 Billed annually - save $100/year'}\n   246→\t\t\t\t\t\t</CardDescription>\n   247→\t\t\t\t\t</CardHeader>\n   248→\n   249→\t\t\t\t\t<CardContent className=\"space-y-8\">\n   250→\t\t\t\t\t\t{/* Features List */}\n   251→\t\t\t\t\t\t<div className=\"grid gap-3\">\n   252→\t\t\t\t\t\t\t{features.map((feature, index) => (\n   253→\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 group hover:translate-x-2 transition-all duration-300\">\n   254→\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 rounded-full p-1.5 mt-0.5 shadow-md shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300\">\n   255→\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-300\" />\n   256→\t\t\t\t\t\t\t\t\t</div>\n   257→\t\t\t\t\t\t\t\t\t<span className=\"text-purple-100 group-hover:text-white transition-colors duration-300\">{feature}</span>\n   258→\t\t\t\t\t\t\t\t</div>\n   259→\t\t\t\t\t\t\t))}\n   260→\t\t\t\t\t\t</div>\n   261→\n   262→\t\t\t\t\t\t{/* Purchase Buttons */}\n   263→\t\t\t\t\t\t<div className=\"space-y-4 pt-4\">\n   264→\t\t\t\t\t\t\t{showSuccessMessage && (\n   265→\t\t\t\t\t\t\t\t<div className=\"p-4 bg-emerald-500/20 border border-emerald-500/50 rounded-lg mb-4\">\n   266→\t\t\t\t\t\t\t\t\t<p className=\"text-emerald-400 text-center font-semibold\">\n   267→\t\t\t\t\t\t\t\t\t\t✓ Payment successful! Unlocking your account...\n   268→\t\t\t\t\t\t\t\t\t</p>\n   269→\t\t\t\t\t\t\t\t</div>\n   270→\t\t\t\t\t\t\t)}\n   271→\n   272→\t\t\t\t\t\t\t<p className=\"text-center text-sm text-slate-400 mb-2\">\n   273→\t\t\t\t\t\t\t\tChoose your payment method:\n   274→\t\t\t\t\t\t\t</p>\n   275→\t\t\t\t\t\t\t<p className=\"text-center text-xs text-emerald-400 mb-4\">\n   276→\t\t\t\t\t\t\t\t✓ Secure checkout • ✓ Instant access • ✓ All methods accepted\n   277→\t\t\t\t\t\t\t</p>\n   278→\n   279→\t\t\t\t\t\t\t{/* Platform Badge */}\n   280→\t\t\t\t\t\t\t{currentPlatform !== 'web' && (\n   281→\t\t\t\t\t\t\t\t<div className=\"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg\">\n   282→\t\t\t\t\t\t\t\t\t<p className=\"text-blue-400 text-center text-sm\">\n   283→\t\t\t\t\t\t\t\t\t\tPlatform detected: <strong className=\"capitalize\">{currentPlatform === 'googleplay' ? 'Google Play' : currentPlatform === 'appstore' ? 'App Store' : currentPlatform === 'palmstore' ? 'Palm Store' : currentPlatform}</strong>\n   284→\t\t\t\t\t\t\t\t\t</p>\n   285→\t\t\t\t\t\t\t\t</div>\n   286→\t\t\t\t\t\t\t)}\n   287→\n   288→\t\t\t\t\t\t\t{/* Payment Method Selector */}\n   289→\t\t\t\t\t\t\t<Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">\n   290→\t\t\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 mb-4\">\n   291→\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"card\" className=\"flex items-center gap-2\">\n   292→\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-4 w-4\" />\n   293→\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Cards</span>\n   294→\t\t\t\t\t\t\t\t\t</TabsTrigger>\n   295→\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">\n   296→\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4\" />\n   297→\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Wallets</span>\n   298→\t\t\t\t\t\t\t\t\t</TabsTrigger>\n   299→\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">\n   300→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-4 w-4\" />\n   301→\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">App Store</span>\n   302→\t\t\t\t\t\t\t\t\t</TabsTrigger>\n   303→\t\t\t\t\t\t\t\t</TabsList>\n   304→\n   305→\t\t\t\t\t\t\t\t<TabsContent value=\"card\" className=\"space-y-3\">\n   306→\t\t\t\t\t\t\t\t\t<StripeCardButton\n   307→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   308→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   309→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   310→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   311→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   312→\t\t\t\t\t\t\t\t\t/>\n   313→\t\t\t\t\t\t\t\t</TabsContent>\n   314→\n   315→\t\t\t\t\t\t\t\t<TabsContent value=\"wallet\" className=\"space-y-3\">\n   316→\t\t\t\t\t\t\t\t\t<PayPalButton\n   317→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   318→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   319→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   320→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   321→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   322→\t\t\t\t\t\t\t\t\t/>\n   323→\n   324→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   325→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   326→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   327→\t\t\t\t\t\t\t\t\t\t</div>\n   328→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   329→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n   330→\t\t\t\t\t\t\t\t\t\t</div>\n   331→\t\t\t\t\t\t\t\t\t</div>\n   332→\n   333→\t\t\t\t\t\t\t\t\t<ApplePayButton\n   334→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   335→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   336→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   337→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   338→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   339→\t\t\t\t\t\t\t\t\t/>\n   340→\n   341→\t\t\t\t\t\t\t\t\t<GooglePayButton\n   342→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   343→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   344→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   345→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   346→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   347→\t\t\t\t\t\t\t\t\t/>\n   348→\n   349→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   350→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   351→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   352→\t\t\t\t\t\t\t\t\t\t</div>\n   353→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   354→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n   355→\t\t\t\t\t\t\t\t\t\t</div>\n   356→\t\t\t\t\t\t\t\t\t</div>\n   357→\n   358→\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n   359→\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n   360→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   361→\t\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4 text-orange-600\" />\n   362→\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n   363→\t\t\t\t\t\t\t\t\t\t</div>\n   364→\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n   365→\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   366→\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   367→\t\t\t\t\t\t\t\t\t\t/>\n   368→\t\t\t\t\t\t\t\t\t</div>\n   369→\n   370→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   371→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   372→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   373→\t\t\t\t\t\t\t\t\t\t</div>\n   374→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   375→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n   376→\t\t\t\t\t\t\t\t\t\t</div>\n   377→\t\t\t\t\t\t\t\t\t</div>\n   378→\n   379→\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n   380→\t\t\t\t\t\t\t\t\t<BitcoinPayment\n   381→\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   382→\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   383→\t\t\t\t\t\t\t\t\t/>\n   384→\n   385→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   386→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   387→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   388→\t\t\t\t\t\t\t\t\t\t</div>\n   389→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   390→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>\n   391→\t\t\t\t\t\t\t\t\t\t</div>\n   392→\t\t\t\t\t\t\t\t\t</div>\n   393→\n   394→\t\t\t\t\t\t\t\t\t{/* Bank Transfer Payment */}\n   395→\t\t\t\t\t\t\t\t\t<BankTransferPayment\n   396→\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   397→\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   398→\t\t\t\t\t\t\t\t\t/>\n   399→\t\t\t\t\t\t\t\t</TabsContent>\n   400→\n   401→\t\t\t\t\t\t\t\t<TabsContent value=\"appstore\" className=\"space-y-3\">\n   402→\t\t\t\t\t\t\t\t\t<Button\n   403→\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n   404→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   405→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   406→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   407→\t\t\t\t\t\t\t\t\t>\n   408→\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n   409→\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n   410→\t\t\t\t\t\t\t\t\t</Button>\n   411→\n   412→\t\t\t\t\t\t\t\t\t<Button\n   413→\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n   414→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   415→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   416→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   417→\t\t\t\t\t\t\t\t\t>\n   418→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n   419→\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n   420→\t\t\t\t\t\t\t\t\t</Button>\n   421→\n   422→\t\t\t\t\t\t\t\t\t<Button\n   423→\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n   424→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   425→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   426→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   427→\t\t\t\t\t\t\t\t\t>\n   428→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n   429→\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n   430→\t\t\t\t\t\t\t\t\t</Button>\n   431→\n   432→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   433→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   434→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   435→\t\t\t\t\t\t\t\t\t\t</div>\n   436→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   437→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n   438→\t\t\t\t\t\t\t\t\t\t</div>\n   439→\t\t\t\t\t\t\t\t\t</div>\n   440→\n   441→\t\t\t\t\t\t\t\t\t<Button\n   442→\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n   443→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   444→\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n   445→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n   446→\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n   447→\t\t\t\t\t\t\t\t\t>\n   448→\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n   449→\t\t\t\t\t\t\t\t\t\t\t<>\n   450→\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n   451→\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n   452→\t\t\t\t\t\t\t\t\t\t\t</>\n   453→\t\t\t\t\t\t\t\t\t\t) : (\n   454→\t\t\t\t\t\t\t\t\t\t\t<>\n   455→\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n   456→\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n   457→\t\t\t\t\t\t\t\t\t\t\t</>\n   458→\t\t\t\t\t\t\t\t\t\t)}\n   459→\t\t\t\t\t\t\t\t\t</Button>\n   460→\t\t\t\t\t\t\t\t</TabsContent>\n   461→\t\t\t\t\t\t\t</Tabs>\n   462→\t\t\t\t\t\t</div>\n   463→\n   464→\t\t\t\t\t\t{/* Trust Badges */}\n   465→\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">\n   466→\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4 text-center\">\n   467→\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n   468→\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">🔒</p>\n   469→\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Secure Payment</p>\n   470→\t\t\t\t\t\t\t\t</div>\n   471→\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n   472→\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">✓</p>\n   473→\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Instant Access</p>\n   474→\t\t\t\t\t\t\t\t</div>\n   475→\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n   476→\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">♻️</p>\n   477→\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Cancel Anytime</p>\n   478→\t\t\t\t\t\t\t\t</div>\n   479→\t\t\t\t\t\t\t</div>\n   480→\t\t\t\t\t\t</div>\n   481→\n   482→\t\t\t\t\t\t<p className=\"text-center text-xs text-purple-300/80\">\n   483→\t\t\t\t\t\t\tBy purchasing, you agree to our Terms of Service and Privacy Policy.\n   484→\t\t\t\t\t\t\t<br />\n   485→\t\t\t\t\t\t\tAll payments are processed securely. We accept credit cards, PayPal, Apple Pay, Google Pay, bank transfers (USD), cryptocurrencies (ETH, USDT, USDC, BTC), and in-app purchases via Google Play, App Store, and Palm Store.\n   486→\t\t\t\t\t\t\t<br />\n   487→\t\t\t\t\t\t\t<span className=\"text-emerald-400 font-bold text-sm\">✨ Selected plan: {selectedPlan === 'monthly' ? 'Monthly $50/month' : 'Yearly $500/year'}</span>\n   488→\t\t\t\t\t\t</p>\n   489→\t\t\t\t\t</CardContent>\n   490→\t\t\t\t</Card>\n   491→\n   492→\t\t\t\t<p className=\"text-center text-sm text-purple-300 mt-6 animate-pulse\">\n   493→\t\t\t\t\t💬 Need help? Contact support@aiaccountant.app\n   494→\t\t\t\t</p>\n   495→\t\t\t</div>\n   496→\t\t</div>\n   497→\t);\n   498→}\n   499→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"1ce915df-b4b4-426e-81d1-a4e03439f103","timestamp":"2025-12-10T19:08:23.201Z","toolUseResult":{"type":"text","file":{"filePath":"/home/user/vite-template/src/components/PricingPaywall.tsx","content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\nimport { PayPalButton } from \"@/components/PayPalButton\";\nimport { StripeCardButton } from \"@/components/StripeCardButton\";\nimport { ApplePayButton } from \"@/components/ApplePayButton\";\nimport { GooglePayButton } from \"@/components/GooglePayButton\";\nimport { MetamaskButton } from \"@/components/MetamaskButton\";\nimport { BitcoinPayment } from \"@/components/BitcoinPayment\";\nimport { BankTransferPayment } from \"@/components/BankTransferPayment\";\nimport { useState, useEffect } from \"react\";\nimport { type PayPalCaptureResult } from \"@/components/PayPalButton\";\nimport { purchaseManager, type PlatformType } from \"@/services/purchase-manager\";\n\ninterface PricingPaywallProps {\n\tonPurchaseComplete?: () => void;\n}\n\nexport function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);\n\n\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n\n\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {\n\t\tconsole.log(\"Payment successful:\", details);\n\n\t\t// Save web purchase info\n\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\tlocalStorage.setItem('purchase_platform', 'web');\n\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\tlocalStorage.setItem('purchase_verified', 'true');\n\t\tlocalStorage.setItem('subscription_plan', selectedPlan);\n\n\t\tsetShowSuccessMessage(true);\n\t\t// Auto-unlock after showing success message\n\t\tsetTimeout(() => {\n\t\t\tonPurchaseComplete?.();\n\t\t}, 2000);\n\t};\n\n\tconst handlePaymentError = (error: Error) => {\n\t\tconsole.error(\"Payment error:\", error);\n\t\talert(\"Payment failed. Please try again or contact support.\");\n\t};\n\n\tconst handlePaymentCancel = () => {\n\t\tconsole.log(\"Payment cancelled by user\");\n\t};\n\n\tconst handleAppStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for App Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst appStoreUrl = \"https://apps.apple.com/app/ai-accountant/id123456789\";\n\t\t\t\twindow.open(appStoreUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on App Store?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'appstore');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('App Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleGooglePlayPurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Google Play\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst googlePlayUrl = \"https://play.google.com/store/apps/details?id=com.aiaccountant.app\";\n\t\t\t\twindow.open(googlePlayUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on Google Play?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'googleplay');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Google Play purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handlePalmStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Palm Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\talert(result.error || 'Palm Store is only available on webOS devices');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Palm Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleRestorePurchases = async () => {\n\t\tsetIsRestoring(true);\n\n\t\ttry {\n\t\t\tconst result = await purchaseManager.restorePurchases();\n\n\t\t\tif (result.success) {\n\t\t\t\talert('Purchase restored successfully!');\n\t\t\t\tonPurchaseComplete?.();\n\t\t\t} else {\n\t\t\t\talert('No previous purchases found. Please make a new purchase.');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Restore failed:', error);\n\t\t\talert('Failed to restore purchases. Please try again.');\n\t\t} finally {\n\t\t\tsetIsRestoring(false);\n\t\t}\n\t};\n\n\tconst features = [\n\t\t\"AI-powered financial insights and advice\",\n\t\t\"Unlimited transaction tracking\",\n\t\t\"Smart tax calculation and optimization\",\n\t\t\"Automated financial reports\",\n\t\t\"Bill reminders and notifications\",\n\t\t\"Multi-currency support\",\n\t\t\"Bank-level encryption and security\",\n\t\t\"Priority customer support\",\n\t\t\"Lifetime updates and improvements\",\n\t];\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-pink-950 flex items-center justify-center p-4 relative overflow-hidden\">\n\t\t\t{/* Animated background elements */}\n\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n\t\t\t\t<div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\n\t\t\t\t<div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\t\t\t\t<div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\n\t\t\t</div>\n\n\t\t\t<div className=\"max-w-4xl w-full relative z-10\">\n\t\t\t\t<div className=\"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n\t\t\t\t\t<div className=\"inline-flex items-center gap-3 mb-4 group\">\n\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-2xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n\t\t\t\t\t\t\t<Smartphone className=\"h-8 w-8 text-white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 animate-pulse\">\n\t\t\t\t\t\t\tAI Accountant\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl text-purple-200 font-light tracking-wide\">Your Personal Financial Assistant</p>\n\t\t\t\t</div>\n\n\t\t\t\t<Card className=\"border-purple-500/30 bg-gradient-to-br from-slate-900/80 via-purple-900/30 to-pink-900/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200\">\n\t\t\t\t\t<CardHeader className=\"text-center pb-8\">\n\t\t\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"mb-2 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 text-emerald-300 border-emerald-400/50 shadow-lg shadow-emerald-500/50 px-4 py-1.5 text-sm font-semibold animate-pulse\">\n\t\t\t\t\t\t\t\t✨ Subscription Plans ✨\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Plan Selection Buttons */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto mb-6\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('monthly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:-rotate-2 ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'monthly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Monthly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$50</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per month</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('yearly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:rotate-2 relative ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'yearly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-pink-500 to-orange-500 text-white text-xs px-3 py-1.5 rounded-full shadow-lg shadow-pink-500/50 font-bold animate-bounce\">\n\t\t\t\t\t\t\t\t\t🔥 Save 17%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Yearly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$500</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per year</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<CardTitle className=\"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 mb-3 animate-pulse\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '$50' : '$500'}\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription className=\"text-lg text-purple-200 font-medium\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '💳 Billed monthly' : '🎯 Billed annually - save $100/year'}\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\n\t\t\t\t\t<CardContent className=\"space-y-8\">\n\t\t\t\t\t\t{/* Features List */}\n\t\t\t\t\t\t<div className=\"grid gap-3\">\n\t\t\t\t\t\t\t{features.map((feature, index) => (\n\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 group hover:translate-x-2 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 rounded-full p-1.5 mt-0.5 shadow-md shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-300\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-purple-100 group-hover:text-white transition-colors duration-300\">{feature}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Purchase Buttons */}\n\t\t\t\t\t\t<div className=\"space-y-4 pt-4\">\n\t\t\t\t\t\t\t{showSuccessMessage && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 bg-emerald-500/20 border border-emerald-500/50 rounded-lg mb-4\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-emerald-400 text-center font-semibold\">\n\t\t\t\t\t\t\t\t\t\t✓ Payment successful! Unlocking your account...\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<p className=\"text-center text-sm text-slate-400 mb-2\">\n\t\t\t\t\t\t\t\tChoose your payment method:\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-center text-xs text-emerald-400 mb-4\">\n\t\t\t\t\t\t\t\t✓ Secure checkout • ✓ Instant access • ✓ All methods accepted\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t{/* Platform Badge */}\n\t\t\t\t\t\t\t{currentPlatform !== 'web' && (\n\t\t\t\t\t\t\t\t<div className=\"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-blue-400 text-center text-sm\">\n\t\t\t\t\t\t\t\t\t\tPlatform detected: <strong className=\"capitalize\">{currentPlatform === 'googleplay' ? 'Google Play' : currentPlatform === 'appstore' ? 'App Store' : currentPlatform === 'palmstore' ? 'Palm Store' : currentPlatform}</strong>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Payment Method Selector */}\n\t\t\t\t\t\t\t<Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">\n\t\t\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 mb-4\">\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"card\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Cards</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Wallets</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">App Store</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"card\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"wallet\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4 text-orange-600\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bank Transfer Payment */}\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"appstore\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Trust Badges */}\n\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4 text-center\">\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">🔒</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Secure Payment</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">✓</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Instant Access</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">♻️</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Cancel Anytime</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p className=\"text-center text-xs text-purple-300/80\">\n\t\t\t\t\t\t\tBy purchasing, you agree to our Terms of Service and Privacy Policy.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tAll payments are processed securely. We accept credit cards, PayPal, Apple Pay, Google Pay, bank transfers (USD), cryptocurrencies (ETH, USDT, USDC, BTC), and in-app purchases via Google Play, App Store, and Palm Store.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-emerald-400 font-bold text-sm\">✨ Selected plan: {selectedPlan === 'monthly' ? 'Monthly $50/month' : 'Yearly $500/year'}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<p className=\"text-center text-sm text-purple-300 mt-6 animate-pulse\">\n\t\t\t\t\t💬 Need help? Contact support@aiaccountant.app\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","numLines":499,"startLine":1,"totalLines":499}}}
{"parentUuid":"1ce915df-b4b4-426e-81d1-a4e03439f103","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_011r8yKveq5Rdmg3BrQsp7eX","type":"message","role":"assistant","content":[{"type":"text","text":"Я вижу проблему! В файле `PricingPaywall.tsx` есть все платёжные сервисы, но некоторые из них скрыты во вкладке \"Wallets\", а не \"Cards\". Давайте проверим, все ли компоненты существуют и правильно отображаются.\n\nПроблема в том, что:\n1. **Stripe (банковские карты)** находится во вкладке \"Cards\"\n2. **PayPal, Apple Pay, Google Pay, MetaMask, Bitcoin, Bank Transfer** находятся во вкладке \"Wallets\"\n3. **App Store, Google Play, Palm Store** находятся во вкладке \"App Store\"\n\nПользователь, скорее всего, открыл только вкладку \"Cards\" и не увидел остальные методы оплаты. Давайте улучшим видимость всех платёжных методов, показывая их все сразу или делая более очевидным, что нужно переключать вкладки.\n\nЯ внесу изменения, чтобы все платёжные методы были видны сразу:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8202,"cache_read_input_tokens":26641,"cache_creation":{"ephemeral_5m_input_tokens":8202,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"a9a5ef16-9228-470a-8561-c1d48f5b3a28","timestamp":"2025-12-10T19:08:30.502Z"}
{"parentUuid":"a9a5ef16-9228-470a-8561-c1d48f5b3a28","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_011r8yKveq5Rdmg3BrQsp7eX","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_011GSayLDZLfBRtM8hiaXzp1","name":"Edit","input":{"file_path":"/home/user/vite-template/src/components/PricingPaywall.tsx","old_string":"\t\t\t\t\t\t\t{/* Payment Method Selector */}\n\t\t\t\t\t\t\t<Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">\n\t\t\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 mb-4\">\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"card\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Cards</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Wallets</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">App Store</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"card\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"wallet\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4 text-orange-600\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bank Transfer Payment */}\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"appstore\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t\t\t</Tabs>","new_string":"\t\t\t\t\t\t\t{/* All Payment Methods - Displayed in Single View */}\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t{/* Credit/Debit Cards Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-emerald-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Digital Wallets Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Cryptocurrency Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-orange-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Bank Transfer Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* App Store Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-5 w-5 text-purple-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":8202,"cache_read_input_tokens":26641,"cache_creation":{"ephemeral_5m_input_tokens":8202,"ephemeral_1h_input_tokens":0},"output_tokens":4453}},"type":"assistant","uuid":"0e4a0548-ac26-4e91-a6c7-def6e92e1739","timestamp":"2025-12-10T19:09:08.456Z"}
{"parentUuid":"0e4a0548-ac26-4e91-a6c7-def6e92e1739","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_011GSayLDZLfBRtM8hiaXzp1","type":"tool_result","content":"The file /home/user/vite-template/src/components/PricingPaywall.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   284→\t\t\t\t\t\t\t\t\t</p>\n   285→\t\t\t\t\t\t\t\t</div>\n   286→\t\t\t\t\t\t\t)}\n   287→\n   288→\t\t\t\t\t\t\t{/* All Payment Methods - Displayed in Single View */}\n   289→\t\t\t\t\t\t\t<div className=\"space-y-6\">\n   290→\t\t\t\t\t\t\t\t{/* Credit/Debit Cards Section */}\n   291→\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n   292→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   293→\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-emerald-400\" />\n   294→\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>\n   295→\t\t\t\t\t\t\t\t\t</div>\n   296→\t\t\t\t\t\t\t\t\t<StripeCardButton\n   297→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   298→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   299→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   300→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   301→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   302→\t\t\t\t\t\t\t\t\t/>\n   303→\t\t\t\t\t\t\t\t</div>\n   304→\n   305→\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   306→\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   307→\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   308→\t\t\t\t\t\t\t\t\t</div>\n   309→\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   310→\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>\n   311→\t\t\t\t\t\t\t\t\t</div>\n   312→\t\t\t\t\t\t\t\t</div>\n   313→\n   314→\t\t\t\t\t\t\t\t{/* Digital Wallets Section */}\n   315→\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n   316→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   317→\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-blue-400\" />\n   318→\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>\n   319→\t\t\t\t\t\t\t\t\t</div>\n   320→\t\t\t\t\t\t\t\t\t<PayPalButton\n   321→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   322→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   323→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   324→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   325→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   326→\t\t\t\t\t\t\t\t\t/>\n   327→\n   328→\t\t\t\t\t\t\t\t\t<ApplePayButton\n   329→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   330→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   331→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   332→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   333→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   334→\t\t\t\t\t\t\t\t\t/>\n   335→\n   336→\t\t\t\t\t\t\t\t\t<GooglePayButton\n   337→\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n   338→\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n   339→\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n   340→\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n   341→\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n   342→\t\t\t\t\t\t\t\t\t/>\n   343→\t\t\t\t\t\t\t\t</div>\n   344→\n   345→\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   346→\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   347→\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   348→\t\t\t\t\t\t\t\t\t</div>\n   349→\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   350→\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n   351→\t\t\t\t\t\t\t\t\t</div>\n   352→\t\t\t\t\t\t\t\t</div>\n   353→\n   354→\t\t\t\t\t\t\t\t{/* Cryptocurrency Section */}\n   355→\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n   356→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   357→\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-orange-400\" />\n   358→\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>\n   359→\t\t\t\t\t\t\t\t\t</div>\n   360→\n   361→\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n   362→\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n   363→\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n   364→\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n   365→\t\t\t\t\t\t\t\t\t\t</div>\n   366→\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n   367→\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   368→\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   369→\t\t\t\t\t\t\t\t\t\t/>\n   370→\t\t\t\t\t\t\t\t\t</div>\n   371→\n   372→\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n   373→\t\t\t\t\t\t\t\t\t<BitcoinPayment\n   374→\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   375→\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   376→\t\t\t\t\t\t\t\t\t/>\n   377→\t\t\t\t\t\t\t\t</div>\n   378→\n   379→\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   380→\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   381→\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   382→\t\t\t\t\t\t\t\t\t</div>\n   383→\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   384→\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>\n   385→\t\t\t\t\t\t\t\t\t</div>\n   386→\t\t\t\t\t\t\t\t</div>\n   387→\n   388→\t\t\t\t\t\t\t\t{/* Bank Transfer Section */}\n   389→\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n   390→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   391→\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-400\" />\n   392→\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>\n   393→\t\t\t\t\t\t\t\t\t</div>\n   394→\t\t\t\t\t\t\t\t\t<BankTransferPayment\n   395→\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n   396→\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n   397→\t\t\t\t\t\t\t\t\t/>\n   398→\t\t\t\t\t\t\t\t</div>\n   399→\n   400→\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   401→\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   402→\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   403→\t\t\t\t\t\t\t\t\t</div>\n   404→\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   405→\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>\n   406→\t\t\t\t\t\t\t\t\t</div>\n   407→\t\t\t\t\t\t\t\t</div>\n   408→\n   409→\t\t\t\t\t\t\t\t{/* App Store Section */}\n   410→\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n   411→\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n   412→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-5 w-5 text-purple-400\" />\n   413→\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>\n   414→\t\t\t\t\t\t\t\t\t</div>\n   415→\n   416→\t\t\t\t\t\t\t\t\t<Button\n   417→\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n   418→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   419→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   420→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   421→\t\t\t\t\t\t\t\t\t>\n   422→\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n   423→\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n   424→\t\t\t\t\t\t\t\t\t</Button>\n   425→\n   426→\t\t\t\t\t\t\t\t\t<Button\n   427→\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n   428→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   429→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   430→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   431→\t\t\t\t\t\t\t\t\t>\n   432→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n   433→\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n   434→\t\t\t\t\t\t\t\t\t</Button>\n   435→\n   436→\t\t\t\t\t\t\t\t\t<Button\n   437→\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n   438→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   439→\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n   440→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n   441→\t\t\t\t\t\t\t\t\t>\n   442→\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n   443→\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n   444→\t\t\t\t\t\t\t\t\t</Button>\n   445→\n   446→\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n   447→\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n   448→\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n   449→\t\t\t\t\t\t\t\t\t\t</div>\n   450→\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n   451→\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>\n   452→\t\t\t\t\t\t\t\t\t\t</div>\n   453→\t\t\t\t\t\t\t\t\t</div>\n   454→\n   455→\t\t\t\t\t\t\t\t\t<Button\n   456→\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n   457→\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n   458→\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n   459→\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n   460→\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n   461→\t\t\t\t\t\t\t\t\t>\n   462→\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n   463→\t\t\t\t\t\t\t\t\t\t\t<>\n   464→\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n   465→\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n   466→\t\t\t\t\t\t\t\t\t\t\t</>\n   467→\t\t\t\t\t\t\t\t\t\t) : (\n   468→\t\t\t\t\t\t\t\t\t\t\t<>\n   469→\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n   470→\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n   471→\t\t\t\t\t\t\t\t\t\t\t</>\n   472→\t\t\t\t\t\t\t\t\t\t)}\n   473→\t\t\t\t\t\t\t\t\t</Button>\n   474→\t\t\t\t\t\t\t\t</div>\n   475→\t\t\t\t\t\t\t</div>\n   476→\t\t\t\t\t\t</div>\n   477→\n   478→\t\t\t\t\t\t{/* Trust Badges */}\n   479→\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">"}]},"uuid":"0c133ee4-2886-48f6-aa3d-ac142213b38c","timestamp":"2025-12-10T19:09:08.490Z","toolUseResult":{"filePath":"/home/user/vite-template/src/components/PricingPaywall.tsx","oldString":"\t\t\t\t\t\t\t{/* Payment Method Selector */}\n\t\t\t\t\t\t\t<Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">\n\t\t\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 mb-4\">\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"card\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Cards</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Wallets</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">App Store</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"card\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"wallet\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4 text-orange-600\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bank Transfer Payment */}\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"appstore\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t\t\t</Tabs>","newString":"\t\t\t\t\t\t\t{/* All Payment Methods - Displayed in Single View */}\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t{/* Credit/Debit Cards Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-emerald-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Digital Wallets Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Cryptocurrency Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-orange-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Bank Transfer Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* App Store Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-5 w-5 text-purple-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>","originalFile":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\nimport { PayPalButton } from \"@/components/PayPalButton\";\nimport { StripeCardButton } from \"@/components/StripeCardButton\";\nimport { ApplePayButton } from \"@/components/ApplePayButton\";\nimport { GooglePayButton } from \"@/components/GooglePayButton\";\nimport { MetamaskButton } from \"@/components/MetamaskButton\";\nimport { BitcoinPayment } from \"@/components/BitcoinPayment\";\nimport { BankTransferPayment } from \"@/components/BankTransferPayment\";\nimport { useState, useEffect } from \"react\";\nimport { type PayPalCaptureResult } from \"@/components/PayPalButton\";\nimport { purchaseManager, type PlatformType } from \"@/services/purchase-manager\";\n\ninterface PricingPaywallProps {\n\tonPurchaseComplete?: () => void;\n}\n\nexport function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);\n\n\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n\n\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {\n\t\tconsole.log(\"Payment successful:\", details);\n\n\t\t// Save web purchase info\n\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\tlocalStorage.setItem('purchase_platform', 'web');\n\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\tlocalStorage.setItem('purchase_verified', 'true');\n\t\tlocalStorage.setItem('subscription_plan', selectedPlan);\n\n\t\tsetShowSuccessMessage(true);\n\t\t// Auto-unlock after showing success message\n\t\tsetTimeout(() => {\n\t\t\tonPurchaseComplete?.();\n\t\t}, 2000);\n\t};\n\n\tconst handlePaymentError = (error: Error) => {\n\t\tconsole.error(\"Payment error:\", error);\n\t\talert(\"Payment failed. Please try again or contact support.\");\n\t};\n\n\tconst handlePaymentCancel = () => {\n\t\tconsole.log(\"Payment cancelled by user\");\n\t};\n\n\tconst handleAppStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for App Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst appStoreUrl = \"https://apps.apple.com/app/ai-accountant/id123456789\";\n\t\t\t\twindow.open(appStoreUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on App Store?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'appstore');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('App Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleGooglePlayPurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Google Play\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst googlePlayUrl = \"https://play.google.com/store/apps/details?id=com.aiaccountant.app\";\n\t\t\t\twindow.open(googlePlayUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on Google Play?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'googleplay');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Google Play purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handlePalmStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Palm Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\talert(result.error || 'Palm Store is only available on webOS devices');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Palm Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleRestorePurchases = async () => {\n\t\tsetIsRestoring(true);\n\n\t\ttry {\n\t\t\tconst result = await purchaseManager.restorePurchases();\n\n\t\t\tif (result.success) {\n\t\t\t\talert('Purchase restored successfully!');\n\t\t\t\tonPurchaseComplete?.();\n\t\t\t} else {\n\t\t\t\talert('No previous purchases found. Please make a new purchase.');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Restore failed:', error);\n\t\t\talert('Failed to restore purchases. Please try again.');\n\t\t} finally {\n\t\t\tsetIsRestoring(false);\n\t\t}\n\t};\n\n\tconst features = [\n\t\t\"AI-powered financial insights and advice\",\n\t\t\"Unlimited transaction tracking\",\n\t\t\"Smart tax calculation and optimization\",\n\t\t\"Automated financial reports\",\n\t\t\"Bill reminders and notifications\",\n\t\t\"Multi-currency support\",\n\t\t\"Bank-level encryption and security\",\n\t\t\"Priority customer support\",\n\t\t\"Lifetime updates and improvements\",\n\t];\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-pink-950 flex items-center justify-center p-4 relative overflow-hidden\">\n\t\t\t{/* Animated background elements */}\n\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n\t\t\t\t<div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\n\t\t\t\t<div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\t\t\t\t<div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\n\t\t\t</div>\n\n\t\t\t<div className=\"max-w-4xl w-full relative z-10\">\n\t\t\t\t<div className=\"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n\t\t\t\t\t<div className=\"inline-flex items-center gap-3 mb-4 group\">\n\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-2xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n\t\t\t\t\t\t\t<Smartphone className=\"h-8 w-8 text-white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 animate-pulse\">\n\t\t\t\t\t\t\tAI Accountant\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl text-purple-200 font-light tracking-wide\">Your Personal Financial Assistant</p>\n\t\t\t\t</div>\n\n\t\t\t\t<Card className=\"border-purple-500/30 bg-gradient-to-br from-slate-900/80 via-purple-900/30 to-pink-900/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200\">\n\t\t\t\t\t<CardHeader className=\"text-center pb-8\">\n\t\t\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"mb-2 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 text-emerald-300 border-emerald-400/50 shadow-lg shadow-emerald-500/50 px-4 py-1.5 text-sm font-semibold animate-pulse\">\n\t\t\t\t\t\t\t\t✨ Subscription Plans ✨\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Plan Selection Buttons */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto mb-6\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('monthly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:-rotate-2 ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'monthly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Monthly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$50</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per month</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('yearly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:rotate-2 relative ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'yearly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-pink-500 to-orange-500 text-white text-xs px-3 py-1.5 rounded-full shadow-lg shadow-pink-500/50 font-bold animate-bounce\">\n\t\t\t\t\t\t\t\t\t🔥 Save 17%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Yearly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$500</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per year</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<CardTitle className=\"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 mb-3 animate-pulse\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '$50' : '$500'}\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription className=\"text-lg text-purple-200 font-medium\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '💳 Billed monthly' : '🎯 Billed annually - save $100/year'}\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\n\t\t\t\t\t<CardContent className=\"space-y-8\">\n\t\t\t\t\t\t{/* Features List */}\n\t\t\t\t\t\t<div className=\"grid gap-3\">\n\t\t\t\t\t\t\t{features.map((feature, index) => (\n\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 group hover:translate-x-2 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 rounded-full p-1.5 mt-0.5 shadow-md shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-300\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-purple-100 group-hover:text-white transition-colors duration-300\">{feature}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Purchase Buttons */}\n\t\t\t\t\t\t<div className=\"space-y-4 pt-4\">\n\t\t\t\t\t\t\t{showSuccessMessage && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 bg-emerald-500/20 border border-emerald-500/50 rounded-lg mb-4\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-emerald-400 text-center font-semibold\">\n\t\t\t\t\t\t\t\t\t\t✓ Payment successful! Unlocking your account...\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<p className=\"text-center text-sm text-slate-400 mb-2\">\n\t\t\t\t\t\t\t\tChoose your payment method:\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-center text-xs text-emerald-400 mb-4\">\n\t\t\t\t\t\t\t\t✓ Secure checkout • ✓ Instant access • ✓ All methods accepted\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t{/* Platform Badge */}\n\t\t\t\t\t\t\t{currentPlatform !== 'web' && (\n\t\t\t\t\t\t\t\t<div className=\"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-blue-400 text-center text-sm\">\n\t\t\t\t\t\t\t\t\t\tPlatform detected: <strong className=\"capitalize\">{currentPlatform === 'googleplay' ? 'Google Play' : currentPlatform === 'appstore' ? 'App Store' : currentPlatform === 'palmstore' ? 'Palm Store' : currentPlatform}</strong>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Payment Method Selector */}\n\t\t\t\t\t\t\t<Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">\n\t\t\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3 mb-4\">\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"card\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Cards</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Wallets</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t\t<TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">App Store</span>\n\t\t\t\t\t\t\t\t\t</TabsTrigger>\n\t\t\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"card\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"wallet\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-4 w-4 text-orange-600\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bank Transfer Payment */}\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t\t\t<TabsContent value=\"appstore\" className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Trust Badges */}\n\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4 text-center\">\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">🔒</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Secure Payment</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">✓</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Instant Access</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">♻️</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Cancel Anytime</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p className=\"text-center text-xs text-purple-300/80\">\n\t\t\t\t\t\t\tBy purchasing, you agree to our Terms of Service and Privacy Policy.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tAll payments are processed securely. We accept credit cards, PayPal, Apple Pay, Google Pay, bank transfers (USD), cryptocurrencies (ETH, USDT, USDC, BTC), and in-app purchases via Google Play, App Store, and Palm Store.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-emerald-400 font-bold text-sm\">✨ Selected plan: {selectedPlan === 'monthly' ? 'Monthly $50/month' : 'Yearly $500/year'}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<p className=\"text-center text-sm text-purple-300 mt-6 animate-pulse\">\n\t\t\t\t\t💬 Need help? Contact support@aiaccountant.app\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","structuredPatch":[{"oldStart":285,"oldLines":24,"newStart":285,"newLines":14,"lines":["                 </div>","               )}"," ","-              {/* Payment Method Selector */}","-              <Tabs value={paymentMethod} onValueChange={(v) => setPaymentMethod(v as typeof paymentMethod)} className=\"w-full\">","-                <TabsList className=\"grid w-full grid-cols-3 mb-4\">","-                  <TabsTrigger value=\"card\" className=\"flex items-center gap-2\">","-                    <CreditCard className=\"h-4 w-4\" />","-                    <span className=\"hidden sm:inline\">Cards</span>","-                  </TabsTrigger>","-                  <TabsTrigger value=\"wallet\" className=\"flex items-center gap-2\">","-                    <Wallet className=\"h-4 w-4\" />","-                    <span className=\"hidden sm:inline\">Wallets</span>","-                  </TabsTrigger>","-                  <TabsTrigger value=\"appstore\" className=\"flex items-center gap-2\">","-                    <Smartphone className=\"h-4 w-4\" />","-                    <span className=\"hidden sm:inline\">App Store</span>","-                  </TabsTrigger>","-                </TabsList>","-","-                <TabsContent value=\"card\" className=\"space-y-3\">","+              {/* All Payment Methods - Displayed in Single View */}","+              <div className=\"space-y-6\">","+                {/* Credit/Debit Cards Section */}","+                <div className=\"space-y-3\">","+                  <div className=\"flex items-center gap-2 mb-3\">","+                    <CreditCard className=\"h-5 w-5 text-emerald-400\" />","+                    <h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>","+                  </div>","                   <StripeCardButton","                     amount={currentAmount}","                     description={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}"]},{"oldStart":310,"oldLines":9,"newStart":300,"newLines":23,"lines":["                     onError={handlePaymentError}","                     onCancel={handlePaymentCancel}","                   />","-                </TabsContent>","+                </div>"," ","-                <TabsContent value=\"wallet\" className=\"space-y-3\">","+                <div className=\"relative py-2\">","+                  <div className=\"absolute inset-0 flex items-center\">","+                    <div className=\"w-full border-t border-slate-700\"></div>","+                  </div>","+                  <div className=\"relative flex justify-center text-xs\">","+                    <span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>","+                  </div>","+                </div>","+","+                {/* Digital Wallets Section */}","+                <div className=\"space-y-3\">","+                  <div className=\"flex items-center gap-2 mb-3\">","+                    <Wallet className=\"h-5 w-5 text-blue-400\" />","+                    <h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>","+                  </div>","                   <PayPalButton","                     amount={currentAmount}","                     description={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}"]},{"oldStart":321,"oldLines":15,"newStart":325,"newLines":6,"lines":["                     onCancel={handlePaymentCancel}","                   />"," ","-                  <div className=\"relative py-2\">","-                    <div className=\"absolute inset-0 flex items-center\">","-                      <div className=\"w-full border-t border-slate-700\"></div>","-                    </div>","-                    <div className=\"relative flex justify-center text-xs\">","-                      <span className=\"bg-slate-800 px-2 text-slate-500\">or</span>","-                    </div>","-                  </div>","-","                   <ApplePayButton","                     amount={currentAmount}","                     description={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}"]},{"oldStart":345,"oldLines":20,"newStart":340,"newLines":27,"lines":["                     onError={handlePaymentError}","                     onCancel={handlePaymentCancel}","                   />","+                </div>"," ","-                  <div className=\"relative py-2\">","-                    <div className=\"absolute inset-0 flex items-center\">","-                      <div className=\"w-full border-t border-slate-700\"></div>","-                    </div>","-                    <div className=\"relative flex justify-center text-xs\">","-                      <span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>","-                    </div>","+                <div className=\"relative py-2\">","+                  <div className=\"absolute inset-0 flex items-center\">","+                    <div className=\"w-full border-t border-slate-700\"></div>","                   </div>","+                  <div className=\"relative flex justify-center text-xs\">","+                    <span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>","+                  </div>","+                </div>"," ","+                {/* Cryptocurrency Section */}","+                <div className=\"space-y-3\">","+                  <div className=\"flex items-center gap-2 mb-3\">","+                    <Wallet className=\"h-5 w-5 text-orange-400\" />","+                    <h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>","+                  </div>","+","                   {/* MetaMask - ETH, USDT, USDC */}","                   <div className=\"space-y-2\">","                     <div className=\"flex items-center gap-2 mb-2\">","-                      <Wallet className=\"h-4 w-4 text-orange-600\" />","                       <span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>","                     </div>","                     <MetamaskButton"]},{"oldStart":367,"oldLines":38,"newStart":369,"newLines":50,"lines":["                     />","                   </div>"," ","-                  <div className=\"relative py-2\">","-                    <div className=\"absolute inset-0 flex items-center\">","-                      <div className=\"w-full border-t border-slate-700\"></div>","-                    </div>","-                    <div className=\"relative flex justify-center text-xs\">","-                      <span className=\"bg-slate-800 px-2 text-slate-500\">or</span>","-                    </div>","-                  </div>","-","                   {/* Bitcoin Payment */}","                   <BitcoinPayment","                     amount={selectedPlan === 'monthly' ? 50 : 500}","                     onSuccess={() => handlePaymentSuccess({})}","                   />","+                </div>"," ","-                  <div className=\"relative py-2\">","-                    <div className=\"absolute inset-0 flex items-center\">","-                      <div className=\"w-full border-t border-slate-700\"></div>","-                    </div>","-                    <div className=\"relative flex justify-center text-xs\">","-                      <span className=\"bg-slate-800 px-2 text-slate-500\">or pay with bank transfer</span>","-                    </div>","+                <div className=\"relative py-2\">","+                  <div className=\"absolute inset-0 flex items-center\">","+                    <div className=\"w-full border-t border-slate-700\"></div>","                   </div>","+                  <div className=\"relative flex justify-center text-xs\">","+                    <span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>","+                  </div>","+                </div>"," ","-                  {/* Bank Transfer Payment */}","+                {/* Bank Transfer Section */}","+                <div className=\"space-y-3\">","+                  <div className=\"flex items-center gap-2 mb-3\">","+                    <CreditCard className=\"h-5 w-5 text-green-400\" />","+                    <h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>","+                  </div>","                   <BankTransferPayment","                     amount={selectedPlan === 'monthly' ? 50 : 500}","                     onSuccess={() => handlePaymentSuccess({})}","                   />","-                </TabsContent>","+                </div>"," ","-                <TabsContent value=\"appstore\" className=\"space-y-3\">","+                <div className=\"relative py-2\">","+                  <div className=\"absolute inset-0 flex items-center\">","+                    <div className=\"w-full border-t border-slate-700\"></div>","+                  </div>","+                  <div className=\"relative flex justify-center text-xs\">","+                    <span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>","+                  </div>","+                </div>","+","+                {/* App Store Section */}","+                <div className=\"space-y-3\">","+                  <div className=\"flex items-center gap-2 mb-3\">","+                    <Smartphone className=\"h-5 w-5 text-purple-400\" />","+                    <h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>","+                  </div>","+","                   <Button","                     onClick={handleAppStorePurchase}","                     size=\"lg\""]},{"oldStart":434,"oldLines":7,"newStart":448,"newLines":7,"lines":["                       <div className=\"w-full border-t border-slate-700\"></div>","                     </div>","                     <div className=\"relative flex justify-center text-xs\">","-                      <span className=\"bg-slate-800 px-2 text-slate-500\">or</span>","+                      <span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>","                     </div>","                   </div>"," "]},{"oldStart":457,"oldLines":8,"newStart":471,"newLines":8,"lines":["                       </>","                     )}","                   </Button>","-                </TabsContent>","-              </Tabs>","+                </div>","+              </div>","             </div>"," ","             {/* Trust Badges */}"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"0c133ee4-2886-48f6-aa3d-ac142213b38c","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_015555TMxLAyGmCqiZxKcvu2","type":"message","role":"assistant","content":[{"type":"text","text":"Теперь нужно удалить неиспользуемые переменные и импорты для вкладок, которые больше не нужны:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":7394,"cache_read_input_tokens":34843,"cache_creation":{"ephemeral_5m_input_tokens":7394,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"70072931-c9b0-41b0-9d9b-a8e139081f1a","timestamp":"2025-12-10T19:09:17.821Z"}
{"parentUuid":"70072931-c9b0-41b0-9d9b-a8e139081f1a","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_015555TMxLAyGmCqiZxKcvu2","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_01C5fzg6zyLUDnYTp1hdccaZ","name":"Edit","input":{"file_path":"/home/user/vite-template/src/components/PricingPaywall.tsx","old_string":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";","new_string":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":7394,"cache_read_input_tokens":34843,"cache_creation":{"ephemeral_5m_input_tokens":7394,"ephemeral_1h_input_tokens":0},"output_tokens":340}},"type":"assistant","uuid":"286aed36-4500-4f5c-bc57-18785462f929","timestamp":"2025-12-10T19:09:20.641Z"}
{"parentUuid":"286aed36-4500-4f5c-bc57-18785462f929","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_01C5fzg6zyLUDnYTp1hdccaZ","type":"tool_result","content":"The file /home/user/vite-template/src/components/PricingPaywall.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n     1→import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\n     2→import { Button } from \"@/components/ui/button\";\n     3→import { Badge } from \"@/components/ui/badge\";\n     4→import { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\n     5→import { PayPalButton } from \"@/components/PayPalButton\";\n     6→import { StripeCardButton } from \"@/components/StripeCardButton\";\n     7→import { ApplePayButton } from \"@/components/ApplePayButton\";\n     8→import { GooglePayButton } from \"@/components/GooglePayButton\";"}]},"uuid":"399527ea-2601-49d4-81a7-0149aa320416","timestamp":"2025-12-10T19:09:20.680Z","toolUseResult":{"filePath":"/home/user/vite-template/src/components/PricingPaywall.tsx","oldString":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";","newString":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";","originalFile":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\nimport { PayPalButton } from \"@/components/PayPalButton\";\nimport { StripeCardButton } from \"@/components/StripeCardButton\";\nimport { ApplePayButton } from \"@/components/ApplePayButton\";\nimport { GooglePayButton } from \"@/components/GooglePayButton\";\nimport { MetamaskButton } from \"@/components/MetamaskButton\";\nimport { BitcoinPayment } from \"@/components/BitcoinPayment\";\nimport { BankTransferPayment } from \"@/components/BankTransferPayment\";\nimport { useState, useEffect } from \"react\";\nimport { type PayPalCaptureResult } from \"@/components/PayPalButton\";\nimport { purchaseManager, type PlatformType } from \"@/services/purchase-manager\";\n\ninterface PricingPaywallProps {\n\tonPurchaseComplete?: () => void;\n}\n\nexport function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);\n\n\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n\n\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {\n\t\tconsole.log(\"Payment successful:\", details);\n\n\t\t// Save web purchase info\n\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\tlocalStorage.setItem('purchase_platform', 'web');\n\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\tlocalStorage.setItem('purchase_verified', 'true');\n\t\tlocalStorage.setItem('subscription_plan', selectedPlan);\n\n\t\tsetShowSuccessMessage(true);\n\t\t// Auto-unlock after showing success message\n\t\tsetTimeout(() => {\n\t\t\tonPurchaseComplete?.();\n\t\t}, 2000);\n\t};\n\n\tconst handlePaymentError = (error: Error) => {\n\t\tconsole.error(\"Payment error:\", error);\n\t\talert(\"Payment failed. Please try again or contact support.\");\n\t};\n\n\tconst handlePaymentCancel = () => {\n\t\tconsole.log(\"Payment cancelled by user\");\n\t};\n\n\tconst handleAppStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for App Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst appStoreUrl = \"https://apps.apple.com/app/ai-accountant/id123456789\";\n\t\t\t\twindow.open(appStoreUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on App Store?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'appstore');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('App Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleGooglePlayPurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Google Play\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst googlePlayUrl = \"https://play.google.com/store/apps/details?id=com.aiaccountant.app\";\n\t\t\t\twindow.open(googlePlayUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on Google Play?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'googleplay');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Google Play purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handlePalmStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Palm Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\talert(result.error || 'Palm Store is only available on webOS devices');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Palm Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleRestorePurchases = async () => {\n\t\tsetIsRestoring(true);\n\n\t\ttry {\n\t\t\tconst result = await purchaseManager.restorePurchases();\n\n\t\t\tif (result.success) {\n\t\t\t\talert('Purchase restored successfully!');\n\t\t\t\tonPurchaseComplete?.();\n\t\t\t} else {\n\t\t\t\talert('No previous purchases found. Please make a new purchase.');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Restore failed:', error);\n\t\t\talert('Failed to restore purchases. Please try again.');\n\t\t} finally {\n\t\t\tsetIsRestoring(false);\n\t\t}\n\t};\n\n\tconst features = [\n\t\t\"AI-powered financial insights and advice\",\n\t\t\"Unlimited transaction tracking\",\n\t\t\"Smart tax calculation and optimization\",\n\t\t\"Automated financial reports\",\n\t\t\"Bill reminders and notifications\",\n\t\t\"Multi-currency support\",\n\t\t\"Bank-level encryption and security\",\n\t\t\"Priority customer support\",\n\t\t\"Lifetime updates and improvements\",\n\t];\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-pink-950 flex items-center justify-center p-4 relative overflow-hidden\">\n\t\t\t{/* Animated background elements */}\n\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n\t\t\t\t<div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\n\t\t\t\t<div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\t\t\t\t<div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\n\t\t\t</div>\n\n\t\t\t<div className=\"max-w-4xl w-full relative z-10\">\n\t\t\t\t<div className=\"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n\t\t\t\t\t<div className=\"inline-flex items-center gap-3 mb-4 group\">\n\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-2xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n\t\t\t\t\t\t\t<Smartphone className=\"h-8 w-8 text-white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 animate-pulse\">\n\t\t\t\t\t\t\tAI Accountant\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl text-purple-200 font-light tracking-wide\">Your Personal Financial Assistant</p>\n\t\t\t\t</div>\n\n\t\t\t\t<Card className=\"border-purple-500/30 bg-gradient-to-br from-slate-900/80 via-purple-900/30 to-pink-900/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200\">\n\t\t\t\t\t<CardHeader className=\"text-center pb-8\">\n\t\t\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"mb-2 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 text-emerald-300 border-emerald-400/50 shadow-lg shadow-emerald-500/50 px-4 py-1.5 text-sm font-semibold animate-pulse\">\n\t\t\t\t\t\t\t\t✨ Subscription Plans ✨\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Plan Selection Buttons */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto mb-6\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('monthly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:-rotate-2 ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'monthly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Monthly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$50</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per month</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('yearly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:rotate-2 relative ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'yearly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-pink-500 to-orange-500 text-white text-xs px-3 py-1.5 rounded-full shadow-lg shadow-pink-500/50 font-bold animate-bounce\">\n\t\t\t\t\t\t\t\t\t🔥 Save 17%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Yearly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$500</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per year</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<CardTitle className=\"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 mb-3 animate-pulse\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '$50' : '$500'}\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription className=\"text-lg text-purple-200 font-medium\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '💳 Billed monthly' : '🎯 Billed annually - save $100/year'}\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\n\t\t\t\t\t<CardContent className=\"space-y-8\">\n\t\t\t\t\t\t{/* Features List */}\n\t\t\t\t\t\t<div className=\"grid gap-3\">\n\t\t\t\t\t\t\t{features.map((feature, index) => (\n\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 group hover:translate-x-2 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 rounded-full p-1.5 mt-0.5 shadow-md shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-300\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-purple-100 group-hover:text-white transition-colors duration-300\">{feature}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Purchase Buttons */}\n\t\t\t\t\t\t<div className=\"space-y-4 pt-4\">\n\t\t\t\t\t\t\t{showSuccessMessage && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 bg-emerald-500/20 border border-emerald-500/50 rounded-lg mb-4\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-emerald-400 text-center font-semibold\">\n\t\t\t\t\t\t\t\t\t\t✓ Payment successful! Unlocking your account...\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<p className=\"text-center text-sm text-slate-400 mb-2\">\n\t\t\t\t\t\t\t\tChoose your payment method:\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-center text-xs text-emerald-400 mb-4\">\n\t\t\t\t\t\t\t\t✓ Secure checkout • ✓ Instant access • ✓ All methods accepted\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t{/* Platform Badge */}\n\t\t\t\t\t\t\t{currentPlatform !== 'web' && (\n\t\t\t\t\t\t\t\t<div className=\"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-blue-400 text-center text-sm\">\n\t\t\t\t\t\t\t\t\t\tPlatform detected: <strong className=\"capitalize\">{currentPlatform === 'googleplay' ? 'Google Play' : currentPlatform === 'appstore' ? 'App Store' : currentPlatform === 'palmstore' ? 'Palm Store' : currentPlatform}</strong>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* All Payment Methods - Displayed in Single View */}\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t{/* Credit/Debit Cards Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-emerald-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Digital Wallets Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Cryptocurrency Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-orange-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Bank Transfer Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* App Store Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-5 w-5 text-purple-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Trust Badges */}\n\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4 text-center\">\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">🔒</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Secure Payment</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">✓</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Instant Access</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">♻️</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Cancel Anytime</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p className=\"text-center text-xs text-purple-300/80\">\n\t\t\t\t\t\t\tBy purchasing, you agree to our Terms of Service and Privacy Policy.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tAll payments are processed securely. We accept credit cards, PayPal, Apple Pay, Google Pay, bank transfers (USD), cryptocurrencies (ETH, USDT, USDC, BTC), and in-app purchases via Google Play, App Store, and Palm Store.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-emerald-400 font-bold text-sm\">✨ Selected plan: {selectedPlan === 'monthly' ? 'Monthly $50/month' : 'Yearly $500/year'}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<p className=\"text-center text-sm text-purple-300 mt-6 animate-pulse\">\n\t\t\t\t\t💬 Need help? Contact support@aiaccountant.app\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","structuredPatch":[{"oldStart":1,"oldLines":7,"newStart":1,"newLines":6,"lines":[" import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";"," import { Button } from \"@/components/ui/button\";"," import { Badge } from \"@/components/ui/badge\";","-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";"," import { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";"," import { PayPalButton } from \"@/components/PayPalButton\";"," import { StripeCardButton } from \"@/components/StripeCardButton\";"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"399527ea-2601-49d4-81a7-0149aa320416","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01HieFvcQpgXbEqHTZXndTtL","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_01XBkbAobyPp1wjkavW3n6tq","name":"Edit","input":{"file_path":"/home/user/vite-template/src/components/PricingPaywall.tsx","old_string":"export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);","new_string":"export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\t}, []);"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":577,"cache_read_input_tokens":42237,"cache_creation":{"ephemeral_5m_input_tokens":577,"ephemeral_1h_input_tokens":0},"output_tokens":512}},"type":"assistant","uuid":"123e4360-54e0-45f5-adff-b4e9cc7337de","timestamp":"2025-12-10T19:09:31.822Z"}
{"parentUuid":"123e4360-54e0-45f5-adff-b4e9cc7337de","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_01XBkbAobyPp1wjkavW3n6tq","type":"tool_result","content":"The file /home/user/vite-template/src/components/PricingPaywall.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    16→interface PricingPaywallProps {\n    17→\tonPurchaseComplete?: () => void;\n    18→}\n    19→\n    20→export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n    21→\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n    22→\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n    23→\tconst [isRestoring, setIsRestoring] = useState(false);\n    24→\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n    25→\n    26→\t// Detect platform on mount\n    27→\tuseEffect(() => {\n    28→\t\tconst platform = purchaseManager.getPlatform();\n    29→\t\tsetCurrentPlatform(platform);\n    30→\t}, []);\n    31→\n    32→\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n    33→\n    34→\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {"}]},"uuid":"ebd6c721-494f-4ba2-8951-90572c7d29b4","timestamp":"2025-12-10T19:09:31.872Z","toolUseResult":{"filePath":"/home/user/vite-template/src/components/PricingPaywall.tsx","oldString":"export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);","newString":"export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\t}, []);","originalFile":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, Smartphone, Apple, CreditCard, Wallet, RefreshCw } from \"lucide-react\";\nimport { PayPalButton } from \"@/components/PayPalButton\";\nimport { StripeCardButton } from \"@/components/StripeCardButton\";\nimport { ApplePayButton } from \"@/components/ApplePayButton\";\nimport { GooglePayButton } from \"@/components/GooglePayButton\";\nimport { MetamaskButton } from \"@/components/MetamaskButton\";\nimport { BitcoinPayment } from \"@/components/BitcoinPayment\";\nimport { BankTransferPayment } from \"@/components/BankTransferPayment\";\nimport { useState, useEffect } from \"react\";\nimport { type PayPalCaptureResult } from \"@/components/PayPalButton\";\nimport { purchaseManager, type PlatformType } from \"@/services/purchase-manager\";\n\ninterface PricingPaywallProps {\n\tonPurchaseComplete?: () => void;\n}\n\nexport function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\tconst [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');\n\tconst [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');\n\tconst [isRestoring, setIsRestoring] = useState(false);\n\tconst [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');\n\n\t// Detect platform on mount\n\tuseEffect(() => {\n\t\tconst platform = purchaseManager.getPlatform();\n\t\tsetCurrentPlatform(platform);\n\n\t\t// Auto-select app store tab if on mobile platform\n\t\tif (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {\n\t\t\tsetPaymentMethod('appstore');\n\t\t}\n\t}, []);\n\n\tconst currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';\n\n\tconst handlePaymentSuccess = (details: PayPalCaptureResult | unknown) => {\n\t\tconsole.log(\"Payment successful:\", details);\n\n\t\t// Save web purchase info\n\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\tlocalStorage.setItem('purchase_platform', 'web');\n\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\tlocalStorage.setItem('purchase_verified', 'true');\n\t\tlocalStorage.setItem('subscription_plan', selectedPlan);\n\n\t\tsetShowSuccessMessage(true);\n\t\t// Auto-unlock after showing success message\n\t\tsetTimeout(() => {\n\t\t\tonPurchaseComplete?.();\n\t\t}, 2000);\n\t};\n\n\tconst handlePaymentError = (error: Error) => {\n\t\tconsole.error(\"Payment error:\", error);\n\t\talert(\"Payment failed. Please try again or contact support.\");\n\t};\n\n\tconst handlePaymentCancel = () => {\n\t\tconsole.log(\"Payment cancelled by user\");\n\t};\n\n\tconst handleAppStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for App Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst appStoreUrl = \"https://apps.apple.com/app/ai-accountant/id123456789\";\n\t\t\t\twindow.open(appStoreUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on App Store?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'appstore');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('App Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleGooglePlayPurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Google Play\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\t// If IAP not available, fallback to browser redirect\n\t\t\t\tconst googlePlayUrl = \"https://play.google.com/store/apps/details?id=com.aiaccountant.app\";\n\t\t\t\twindow.open(googlePlayUrl, '_blank');\n\n\t\t\t\t// For demo purposes, simulate purchase completion\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (confirm(\"Did you complete the purchase on Google Play?\")) {\n\t\t\t\t\t\tlocalStorage.setItem('app_purchased', 'true');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_platform', 'googleplay');\n\t\t\t\t\t\tlocalStorage.setItem('purchase_date', new Date().toISOString());\n\t\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t\t}\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Google Play purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handlePalmStorePurchase = async () => {\n\t\ttry {\n\t\t\t// Use the unified purchase manager for Palm Store\n\t\t\tconst result = await purchaseManager.purchaseViaStore();\n\n\t\t\tif (result.success) {\n\t\t\t\tsetShowSuccessMessage(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tonPurchaseComplete?.();\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\talert(result.error || 'Palm Store is only available on webOS devices');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Palm Store purchase failed:', error);\n\t\t\talert('Purchase failed. Please try again.');\n\t\t}\n\t};\n\n\tconst handleRestorePurchases = async () => {\n\t\tsetIsRestoring(true);\n\n\t\ttry {\n\t\t\tconst result = await purchaseManager.restorePurchases();\n\n\t\t\tif (result.success) {\n\t\t\t\talert('Purchase restored successfully!');\n\t\t\t\tonPurchaseComplete?.();\n\t\t\t} else {\n\t\t\t\talert('No previous purchases found. Please make a new purchase.');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Restore failed:', error);\n\t\t\talert('Failed to restore purchases. Please try again.');\n\t\t} finally {\n\t\t\tsetIsRestoring(false);\n\t\t}\n\t};\n\n\tconst features = [\n\t\t\"AI-powered financial insights and advice\",\n\t\t\"Unlimited transaction tracking\",\n\t\t\"Smart tax calculation and optimization\",\n\t\t\"Automated financial reports\",\n\t\t\"Bill reminders and notifications\",\n\t\t\"Multi-currency support\",\n\t\t\"Bank-level encryption and security\",\n\t\t\"Priority customer support\",\n\t\t\"Lifetime updates and improvements\",\n\t];\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-900 to-pink-950 flex items-center justify-center p-4 relative overflow-hidden\">\n\t\t\t{/* Animated background elements */}\n\t\t\t<div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n\t\t\t\t<div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse\"></div>\n\t\t\t\t<div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\t\t\t\t<div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl animate-pulse delay-500\"></div>\n\t\t\t</div>\n\n\t\t\t<div className=\"max-w-4xl w-full relative z-10\">\n\t\t\t\t<div className=\"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700\">\n\t\t\t\t\t<div className=\"inline-flex items-center gap-3 mb-4 group\">\n\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-600 p-3 rounded-2xl shadow-2xl shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-500\">\n\t\t\t\t\t\t\t<Smartphone className=\"h-8 w-8 text-white\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 animate-pulse\">\n\t\t\t\t\t\t\tAI Accountant\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl text-purple-200 font-light tracking-wide\">Your Personal Financial Assistant</p>\n\t\t\t\t</div>\n\n\t\t\t\t<Card className=\"border-purple-500/30 bg-gradient-to-br from-slate-900/80 via-purple-900/30 to-pink-900/30 backdrop-blur-xl shadow-2xl shadow-purple-500/20 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-200\">\n\t\t\t\t\t<CardHeader className=\"text-center pb-8\">\n\t\t\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"mb-2 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 text-emerald-300 border-emerald-400/50 shadow-lg shadow-emerald-500/50 px-4 py-1.5 text-sm font-semibold animate-pulse\">\n\t\t\t\t\t\t\t\t✨ Subscription Plans ✨\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Plan Selection Buttons */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto mb-6\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('monthly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:-rotate-2 ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'monthly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Monthly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$50</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per month</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setSelectedPlan('yearly')}\n\t\t\t\t\t\t\t\tclassName={`p-5 rounded-2xl border-2 transition-all duration-500 transform hover:scale-105 hover:rotate-2 relative ${\n\t\t\t\t\t\t\t\t\tselectedPlan === 'yearly'\n\t\t\t\t\t\t\t\t\t\t? 'border-emerald-400 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-lg shadow-emerald-500/50 scale-105'\n\t\t\t\t\t\t\t\t\t\t: 'border-slate-600/50 bg-slate-800/30 hover:border-purple-400/50 hover:shadow-purple-500/30'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"absolute -top-3 -right-3 bg-gradient-to-r from-pink-500 to-orange-500 text-white text-xs px-3 py-1.5 rounded-full shadow-lg shadow-pink-500/50 font-bold animate-bounce\">\n\t\t\t\t\t\t\t\t\t🔥 Save 17%\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-purple-300 mb-1 font-medium\">Yearly</div>\n\t\t\t\t\t\t\t\t<div className=\"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400\">$500</div>\n\t\t\t\t\t\t\t\t<div className=\"text-xs text-purple-300 mt-1\">per year</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<CardTitle className=\"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-cyan-400 to-purple-400 mb-3 animate-pulse\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '$50' : '$500'}\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription className=\"text-lg text-purple-200 font-medium\">\n\t\t\t\t\t\t\t{selectedPlan === 'monthly' ? '💳 Billed monthly' : '🎯 Billed annually - save $100/year'}\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\n\t\t\t\t\t<CardContent className=\"space-y-8\">\n\t\t\t\t\t\t{/* Features List */}\n\t\t\t\t\t\t<div className=\"grid gap-3\">\n\t\t\t\t\t\t\t{features.map((feature, index) => (\n\t\t\t\t\t\t\t\t<div key={index} className=\"flex items-start gap-3 group hover:translate-x-2 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t<div className=\"bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 rounded-full p-1.5 mt-0.5 shadow-md shadow-emerald-500/50 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300\">\n\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-emerald-300\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span className=\"text-purple-100 group-hover:text-white transition-colors duration-300\">{feature}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Purchase Buttons */}\n\t\t\t\t\t\t<div className=\"space-y-4 pt-4\">\n\t\t\t\t\t\t\t{showSuccessMessage && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 bg-emerald-500/20 border border-emerald-500/50 rounded-lg mb-4\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-emerald-400 text-center font-semibold\">\n\t\t\t\t\t\t\t\t\t\t✓ Payment successful! Unlocking your account...\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<p className=\"text-center text-sm text-slate-400 mb-2\">\n\t\t\t\t\t\t\t\tChoose your payment method:\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-center text-xs text-emerald-400 mb-4\">\n\t\t\t\t\t\t\t\t✓ Secure checkout • ✓ Instant access • ✓ All methods accepted\n\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t{/* Platform Badge */}\n\t\t\t\t\t\t\t{currentPlatform !== 'web' && (\n\t\t\t\t\t\t\t\t<div className=\"mb-4 p-3 bg-blue-500/20 border border-blue-500/50 rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-blue-400 text-center text-sm\">\n\t\t\t\t\t\t\t\t\t\tPlatform detected: <strong className=\"capitalize\">{currentPlatform === 'googleplay' ? 'Google Play' : currentPlatform === 'appstore' ? 'App Store' : currentPlatform === 'palmstore' ? 'Palm Store' : currentPlatform}</strong>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* All Payment Methods - Displayed in Single View */}\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t{/* Credit/Debit Cards Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-emerald-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-emerald-400\">💳 Credit & Debit Cards</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<StripeCardButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or choose another payment method</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Digital Wallets Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-blue-400\">📱 Digital Wallets</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<PayPalButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<ApplePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<GooglePayButton\n\t\t\t\t\t\t\t\t\t\tamount={currentAmount}\n\t\t\t\t\t\t\t\t\t\tdescription={`AI Accountant - ${selectedPlan === 'monthly' ? 'Monthly' : 'Yearly'} Subscription`}\n\t\t\t\t\t\t\t\t\t\tonSuccess={handlePaymentSuccess}\n\t\t\t\t\t\t\t\t\t\tonError={handlePaymentError}\n\t\t\t\t\t\t\t\t\t\tonCancel={handlePaymentCancel}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or pay with cryptocurrency</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Cryptocurrency Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Wallet className=\"h-5 w-5 text-orange-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-orange-400\">🪙 Cryptocurrency</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* MetaMask - ETH, USDT, USDC */}\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-slate-200\">MetaMask (ETH / USDT / USDC)</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<MetamaskButton\n\t\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Bitcoin Payment */}\n\t\t\t\t\t\t\t\t\t<BitcoinPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use bank transfer</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Bank Transfer Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-green-400\">🏦 Bank Transfer</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<BankTransferPayment\n\t\t\t\t\t\t\t\t\t\tamount={selectedPlan === 'monthly' ? 50 : 500}\n\t\t\t\t\t\t\t\t\t\tonSuccess={() => handlePaymentSuccess({})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">or use app store</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* App Store Section */}\n\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-3\">\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-5 w-5 text-purple-400\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-purple-400\">📲 App Stores</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleAppStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Apple className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on App Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleGooglePlayPurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Google Play\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handlePalmStorePurchase}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full border-slate-600 bg-slate-700/50 hover:bg-slate-700 text-white text-lg py-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Smartphone className=\"h-6 w-6 mr-3\" />\n\t\t\t\t\t\t\t\t\t\tPurchase on Palm Store\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<div className=\"relative py-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-slate-700\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"bg-slate-800 px-2 text-slate-500\">already purchased?</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={handleRestorePurchases}\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-full text-slate-300 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isRestoring}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{isRestoring ? (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestoring...\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tRestore Previous Purchase\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Trust Badges */}\n\t\t\t\t\t\t<div className=\"pt-6 border-t border-purple-500/30\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4 text-center\">\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">🔒</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Secure Payment</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">✓</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Instant Access</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"group hover:scale-110 transition-transform duration-300\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold mb-2 group-hover:animate-bounce\">♻️</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-purple-300 font-medium\">Cancel Anytime</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<p className=\"text-center text-xs text-purple-300/80\">\n\t\t\t\t\t\t\tBy purchasing, you agree to our Terms of Service and Privacy Policy.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tAll payments are processed securely. We accept credit cards, PayPal, Apple Pay, Google Pay, bank transfers (USD), cryptocurrencies (ETH, USDT, USDC, BTC), and in-app purchases via Google Play, App Store, and Palm Store.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-emerald-400 font-bold text-sm\">✨ Selected plan: {selectedPlan === 'monthly' ? 'Monthly $50/month' : 'Yearly $500/year'}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<p className=\"text-center text-sm text-purple-300 mt-6 animate-pulse\">\n\t\t\t\t\t💬 Need help? Contact support@aiaccountant.app\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","structuredPatch":[{"oldStart":19,"oldLines":7,"newStart":19,"newLines":6,"lines":[" "," export function PricingPaywall({ onPurchaseComplete }: PricingPaywallProps) {","   const [showSuccessMessage, setShowSuccessMessage] = useState(false);","-  const [paymentMethod, setPaymentMethod] = useState<'card' | 'wallet' | 'appstore'>('card');","   const [currentPlatform, setCurrentPlatform] = useState<PlatformType>('web');","   const [isRestoring, setIsRestoring] = useState(false);","   const [selectedPlan, setSelectedPlan] = useState<'monthly' | 'yearly'>('monthly');"]},{"oldStart":28,"oldLines":11,"newStart":27,"newLines":6,"lines":["   useEffect(() => {","     const platform = purchaseManager.getPlatform();","     setCurrentPlatform(platform);","-","-    // Auto-select app store tab if on mobile platform","-    if (platform === 'googleplay' || platform === 'appstore' || platform === 'palmstore') {","-      setPaymentMethod('appstore');","-    }","   }, []);"," ","   const currentAmount = selectedPlan === 'monthly' ? '50.00' : '500.00';"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"ebd6c721-494f-4ba2-8951-90572c7d29b4","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01EsER531YLFTrUNWE7DfqFR","type":"message","role":"assistant","content":[{"type":"text","text":"Отлично! Теперь давайте запустим проверку, чтобы убедиться, что все работает корректно:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":967,"cache_read_input_tokens":42814,"cache_creation":{"ephemeral_5m_input_tokens":967,"ephemeral_1h_input_tokens":0},"output_tokens":2}},"type":"assistant","uuid":"28f858a5-a9b7-4eb1-a214-957b80a5ab38","timestamp":"2025-12-10T19:09:38.205Z"}
{"parentUuid":"28f858a5-a9b7-4eb1-a214-957b80a5ab38","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01EsER531YLFTrUNWE7DfqFR","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_vrtx_01FSizPi7ZHaGVgvRxyhmwcT","name":"Bash","input":{"command":"npm run check:safe","description":"Run TypeScript type checking and ESLint validation"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":967,"cache_read_input_tokens":42814,"cache_creation":{"ephemeral_5m_input_tokens":967,"ephemeral_1h_input_tokens":0},"output_tokens":119}},"type":"assistant","uuid":"2d88f2c4-ba83-47c9-a8f8-ca592d22376e","timestamp":"2025-12-10T19:09:39.041Z"}
{"parentUuid":"2d88f2c4-ba83-47c9-a8f8-ca592d22376e","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_vrtx_01FSizPi7ZHaGVgvRxyhmwcT","type":"tool_result","content":"> check:safe\n> timeout 20 npm run check || (echo 'Check timed out after 20 seconds' && exit 1)\n\n\n> check\n> tsgo --noEmit && npm run lint:radix -- --fix && npm run format\n\n\n> lint:radix\n> grep -l -r '<SelectItem' src | xargs eslint --config config/eslint/eslint.radix.config.js --fix\n\n\n> format\n> biome check --write --unsafe\n\nChecked 6 files in 71ms. No fixes applied.","is_error":false}]},"uuid":"c92d5ed5-d45b-46b0-a1e0-cd2ad579c433","timestamp":"2025-12-10T19:09:44.708Z","toolUseResult":{"stdout":"> check:safe\n> timeout 20 npm run check || (echo 'Check timed out after 20 seconds' && exit 1)\n\n\n> check\n> tsgo --noEmit && npm run lint:radix -- --fix && npm run format\n\n\n> lint:radix\n> grep -l -r '<SelectItem' src | xargs eslint --config config/eslint/eslint.radix.config.js --fix\n\n\n> format\n> biome check --write --unsafe\n\nChecked 6 files in 71ms. No fixes applied.","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"c92d5ed5-d45b-46b0-a1e0-cd2ad579c433","isSidechain":false,"userType":"external","cwd":"/home/user/vite-template","sessionId":"815a126b-f497-49f0-9468-1b6de4e0d4bc","version":"2.0.53","gitBranch":"","slug":"gleaming-scribbling-bird","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_vrtx_01MvMBiNU8u8EwHQfRJcgcKF","type":"message","role":"assistant","content":[{"type":"text","text":"Превосходно! ✅ Проверка прошла успешно!\n\nТеперь все платёжные сервисы отображаются в одном списке на странице оплаты. Вот что было изменено:\n\n## ✨ Что я исправил:\n\n**Проблема:** Ранее платёжные сервисы были разделены на 3 вкладки (Cards, Wallets, App Store), и пользователю нужно было переключаться между ними, чтобы увидеть все доступные способы оплаты.\n\n**Решение:** Теперь все платёжные методы отображаются в одном списке с четкими разделами:\n\n### 💳 Все доступные способы оплаты:\n\n1. **💳 Credit & Debit Cards** (Кредитные и дебетовые карты)\n   - Stripe (Visa, Mastercard, American Express и др.)\n\n2. **📱 Digital Wallets** (Цифровые кошельки)\n   - PayPal\n   - Apple Pay\n   - Google Pay\n\n3. **🪙 Cryptocurrency** (Криптовалюта)\n   - MetaMask (ETH, USDT, USDC)\n   - Bitcoin (BTC)\n\n4. **🏦 Bank Transfer** (Банковский перевод)\n   - USD банковские переводы\n\n5. **📲 App Stores** (Магазины приложений)\n   - Apple App Store\n   - Google Play Store\n   - Palm Store\n\n6. **♻️ Restore Purchase** (Восстановить покупку)\n\nТеперь пользователи видят **все 11 способов оплаты** сразу, без необходимости переключения между вкладками!"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":257,"cache_read_input_tokens":43781,"cache_creation":{"ephemeral_5m_input_tokens":257,"ephemeral_1h_input_tokens":0},"output_tokens":468}},"type":"assistant","uuid":"05382696-80b9-4a29-8dfb-6be995e97654","timestamp":"2025-12-10T19:09:54.889Z"}
